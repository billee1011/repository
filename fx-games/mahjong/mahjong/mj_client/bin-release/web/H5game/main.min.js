var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},RenderBase=function(t){function e(e){var i=t.call(this)||this;return i.addEventListener(eui.UIEvent.COMPLETE,i.uiLoadComplete,i),i.skinName=e,i}return __extends(e,t),e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null)},e.prototype.dataChanged=function(){},e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e.prototype.refreshRender=function(){this.dataChanged()},e.prototype.clear=function(){},e.prototype.refreshOther=function(){},Object.defineProperty(e.prototype,"choosed",{get:function(){return this._choosed},set:function(t){this._choosed=t,this.doChoose()},enumerable:!0,configurable:!0}),e.prototype.doChoose=function(){},e}(eui.ItemRenderer);__reflect(RenderBase.prototype,"RenderBase");var StageDele=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.toStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.awayStage,e),e}return __extends(e,t),e.prototype.toStage=function(t){},e.prototype.awayStage=function(t){},e}(egret.Sprite);__reflect(StageDele.prototype,"StageDele");var Facade=function(){function t(){this.classObj={},this.instanceObj={},this.proxyObj={},this.protocolObj={},this.listenerObj={}}return t.prototype.registerUI=function(t,e){this.classObj[t]=e},t.prototype.getUIClass=function(t){var e=this.classObj[t];if(null==e)throw new Error("请先注册UI");return this.classObj[t]},t.prototype.registerInstance=function(t,e){this.instanceObj[t]=e},t.prototype.getInstance=function(t){return this.instanceObj[t]},t.prototype.registerProxy=function(t,e){var i=this.proxyObj[t];if(i)throw new Error("重复注册Proxy");i=new e,this.proxyObj[t]=i},t.prototype.getProxy=function(t){return this.proxyObj[t]},t.prototype.registerProtocol=function(t,e){var i=this.protocolObj[t];if(i)throw new Error("重复注册Protocol");this.protocolObj[t]=e},t.prototype.getProtocolFun=function(t){return this.protocolObj[t]},t.prototype.addListener=function(t,e){var i=this.listenerObj[t];i?-1==i.indexOf(e)&&i.push(e):(this.listenerObj[t]=i=[],i.push(e))},t.prototype.removeListener=function(t,e){var i=this.listenerObj[t];if(i&&0!=i.length){var n=i.indexOf(e);-1!=n&&i.splice(n,1)}},t.prototype.simpleDispatcher=function(t,e){void 0===e&&(e=null);var i=this.listenerObj[t];if(i)for(var n in i){var o=i[n];o[0].call(o[1],e)}},t}();__reflect(Facade.prototype,"Facade");var Proxy=function(t){function e(){var e=t.call(this)||this;return e.facade=TFacade.facade,e}return __extends(e,t),Object.defineProperty(e.prototype,"socket",{get:function(){return GlobalDefine.socket},enumerable:!0,configurable:!0}),e.prototype.simpleDispatcher=function(t,e){void 0===e&&(e=null),this.facade.simpleDispatcher(t,e)},e}(egret.EventDispatcher);__reflect(Proxy.prototype,"Proxy");var PlayerBaseRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.head=new RoleHeadRender,this.addChild(this.head),this.opEffectItem=new OperateEffectItem,this.childInit(),this.isMain=!1},e.prototype.childInit=function(){},e.prototype.dataChanged=function(){this.vo=this.data,this.head.data=this.vo,this.refreshOwnCard(),this.refreshDuiCard(),this.refreshPlayedCard(),this.layout(),this.vo.ready&&this.showReadyHand()},e.prototype.refreshDuiCard=function(){this.duiList&&(this.duiList.displayList(this.vo.duiCardList),this.refreshOwnCardPosition())},e.prototype.refreshOwnCardPosition=function(){},e.prototype.refreshPlayedCard=function(){this.playedList&&this.playedList.displayList(this.vo.playedCardList)},e.prototype.addVoToOwnCardList=function(t){this.vo.ownCardList.push(t)},e.prototype.addVoToduiCardList=function(t){this.vo.duiCardList.push(t)},e.prototype.addVoToPlayedCardList=function(t){this.vo.playedCardList.push(t)},e.prototype.setNowPlayedCardHide=function(t){var e,i=this.playedList.getAllItem();for(var n in i)if(e=i[n],e.data.id==t)return e.visible=!1,e.localToGlobal(0,0);return null},e.prototype.setNowPlayedCardShow=function(t){var e,i=this.playedList.getAllItem();for(var n in i)if(e=i[n],e.data.id==t){e.visible=!0,e.showSign();break}},e.prototype.refreshOwnCard=function(){this.ownCardList&&(this.ownCardList.displayList(this.vo.ownCardList),this.ownCardList.refreshOther())},e.prototype.layout=function(){},e.prototype.showReadyHand=function(){this.head.readyPic.visible=!0},e.prototype.hideReadyHand=function(){this.head.readyPic.visible=!1},e.prototype.showOperateEffect=function(t){this.opEffectItem.playEffect(t),this.addChild(this.opEffectItem)},e}(RenderBase);__reflect(PlayerBaseRender.prototype,"PlayerBaseRender");var ServerInfoVO=function(){function t(){}return Object.defineProperty(t.prototype,"serverTime",{get:function(){var t=egret.getTimer()-this.lastTimer+this._serverTime;return t},set:function(t){this.lastTimer=egret.getTimer(),this._serverTime=t,this.serverDate=new Date(this._serverTime)},enumerable:!0,configurable:!0}),t}();__reflect(ServerInfoVO.prototype,"ServerInfoVO");var TDecoder=function(){function t(){}return t.prototype.init=function(t){this.facade=t;var e;for(var i in this.types)e=this.types[i],t.registerProtocol(e,[this["f_"+e],this])},t.prototype.checkSucc=function(t){if(0==t[0]){var e=CodeDB.instance.getDes(t[1]);return e=e?e:"不存在的code:"+t[1],Tnotice.instance.popUpTip(e),!1}return!0},t}();__reflect(TDecoder.prototype,"TDecoder");var UIBase=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this)||this;return n.hideable=!0,n.closeOther=!1,n.isAloneShow=!1,n.centerFlag=!0,n._eventList={},n.clickBackHide=!1,n.isReady=!1,n.openOrder="no",n.groupOk=!1,n.groupName="",n.skinUrl="",n.firstAwake=!1,n.skinUrl=e,n.groupName=i,n.addEventListener(egret.Event.ADDED_TO_STAGE,n.addedToStage,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.removeFromStage,n),i?LoaderManage.instance.startLoaderGroup(i,n.groupLoadBack,n):(n.groupOk=!0,n.addEventListener(eui.UIEvent.COMPLETE,n.uiLoaded,n),n.skinName=e),n}return __extends(e,t),e.prototype.removeFromStage=function(t){var e;for(var i in this._eventList)e=this._eventList[i],TFacade.facade.removeListener(i,e);if(this.params=this.paramstype=null,this.isAloneShow&&(LayerManage.instance.hidePanelMask(),this.clickBackHide&&TFacade.facade.removeListener(ConstDefine.EMPTY_MASK_CLICK,[this.backGroundClick,this])),this.sleep(),this.isAloneShow){var n=TFacade.facade;n.currentShowUI&&n.currentShowUI.parent&&n.currentShowUI.isAloneShow&&n.currentShowUI!=this&&LayerManage.instance.showPanelMask(n.currentShowUI.parent.getChildIndex(n.currentShowUI))}},e.prototype.backGroundClick=function(){this.hide()},e.prototype.addedToStage=function(t){if(this.parent){var e;for(var i in this._eventList)e=this._eventList[i],TFacade.facade.addListener(i,e);this.isAloneShow&&this.isReady&&(LayerManage.instance.showPanelMask(this.parent.getChildIndex(this)),this.clickBackHide&&TFacade.facade.addListener(ConstDefine.EMPTY_MASK_CLICK,[this.backGroundClick,this])),this.isReady&&(this.awake(),this.firstAwake=!0,this.layoutP())}},e.prototype.layoutP=function(){this.centerFlag&&(this.x=GlobalDefine.stageW-this.width>>1,this.y=GlobalDefine.stageH-this.height>>1)},e.prototype.groupLoadBack=function(t){t.groupName==this.groupName&&(this.groupOk=!0,LoaderManage.instance.removeListener(this.groupLoadBack,this),LoaderManage.instance.removeLoading(),this.addEventListener(eui.UIEvent.COMPLETE,this.uiLoaded,this),this.skinName=this.skinUrl)},e.prototype.doubeCheck=function(){this.groupOk&&this.isReady&&(this.firstAwake||(this.bindEvent(),this.uiLoadComplete(),this.addedToStage(null),this.layoutP()),this.paramstype&&this.doExecute())},e.prototype.uiLoaded=function(t){this.isReady=!0,this.doubeCheck()},e.prototype.bindEvent=function(){},e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null)},e.prototype.dataChanged=function(){},e.prototype.execute=function(t,e){void 0===e&&(e=null),this.params=e,this.paramstype=t,this.isReady&&this.doExecute()},e.prototype.doExecute=function(){},e.prototype.sleep=function(){},e.prototype.awake=function(){},e.prototype.hide=function(){DisplayUtil.removeDisplay(this,this.parent)},e}(eui.Component);__reflect(UIBase.prototype,"UIBase");var GoodsSlot=function(t){function e(e,i){void 0===e&&(e=60),void 0===i&&(i=60);var n=t.call(this,"")||this;n._tipable=!1,n.b_offX=0,n.b_offY=0,n._defaultSkin=new eui.Image,n._defaultSkin.width=e,n._defaultSkin.height=e,n.addChild(n._defaultSkin),n.iconW=e,n.rareSkin=new eui.Image,n.rareSkin.width=e,n.rareSkin.height=e,n.addChild(n.rareSkin);var o=12;return n.img_icon=new AsyImage(e-o,e-o),n.img_icon.x=o/2,n.img_icon.y=o/2,n.addChild(n.img_icon),n.label_count=new eui.Label,n.label_count.size=14,n.label_count.fontFamily="微软雅黑",n.addChild(n.label_count),CommonTool.addStroke(n.label_count,1,0),n.label_count.touchEnabled=!1,n.label_name=new eui.Label,n.addChild(n.label_name),n.label_name.y=e,n.label_name.size=16,n.label_name.fontFamily="微软雅黑",CommonTool.addStroke(n.label_name,1,0),n}return __extends(e,t),Object.defineProperty(e.prototype,"rarelevel",{set:function(t){ColorDefine.rareYinshe[t]},enumerable:!0,configurable:!0}),e.prototype.dataChanged=function(){if(this.data){this._vo=this.data,this.rarelevel=this.data.quality;var t=PathDefine.MJ_ICON+this.data.looks+".png";this.img_icon.setUrl(t),this.count=this.data.count,25==this._vo.type&&this.showEquipLevel(),this.doData()}},e.prototype.doData=function(){},e.prototype.showEquipLevel=function(){this.label_count.text="lv."+this._vo.level,this.label_count.x=this.iconW-this.label_count.width-4,this.label_count.y=this.iconW-this.label_count.height-2},Object.defineProperty(e.prototype,"count",{set:function(t){25!=this._vo.type&&(t>1?(this.label_count.text=CommonTool.getMoneyShow(t),this.label_count.x=this.iconW-this.label_count.width-4,this.label_count.y=this.iconW-this.label_count.height-2):this.label_count.text="")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{set:function(t){this.label_name.text=t,this.label_name.textColor=ColorDefine.rareColr[this.data.quality],this.label_name.x=this.iconW-this.label_name.width>>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tipable",{set:function(t){this._tipable=t,t?(this.img_icon.touchEnabled=!0,this.img_icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showTips,this)):(this.img_icon.touchEnabled=!1,this.img_icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showTips,this))},enumerable:!0,configurable:!0}),e.prototype.showTips=function(t){},Object.defineProperty(e.prototype,"badage",{set:function(t){this._badage?this._badage.visible=t:t&&(this._badage=new eui.Image,this._badage.x=this.iconW+this.b_offX-13,this._badage.y=this.b_offY-6,this.addChild(this._badage))},enumerable:!0,configurable:!0}),e.prototype.setBadgeOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.b_offX=t,this.b_offY=e},e}(RenderBase);__reflect(GoodsSlot.prototype,"GoodsSlot");var LineRender=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this,"")||this;return i.label_name=new eui.Label,i.label_name.size=18,i.label_name.fontFamily="微软雅黑",i.addChild(i.label_name),i.label_name.x=0,i.label_name.y=6,i.label_name.textColor=11960691,e&&(i.icon=new NoRareSlot(35,35),i.addChild(i.icon),i.label_name.x=32,i.icon.updateXY(0,-5)),i.label_value=new eui.Label,i.label_value.size=16,i.label_name.fontFamily="微软雅黑",i.label_value.textColor=11960691,i.addChild(i.label_value),i.label_value.y=8,i}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.label_name.text=t[0][0]+":",this.label_value.text=t[0][1],this.label_value.x=this.label_name.x+this.label_name.width+4,t.length>1&&(this.showIcon(t[1]),this.label_name.text="")},e.prototype.showIcon=function(t){},e}(RenderBase);__reflect(LineRender.prototype,"LineRender");var HeroVO=function(){function t(){this.gender=1,this.name="",this.head="",this.diamond=0,this.duiCardList=[],this.playedCardList=[]}return t.prototype.decode=function(t){var e=0;this.roleId=t[e++],this.name=t[e++],this.gender=t[e++],this.diamond=t[e++],this.head=t[e++]},t.prototype.decodeGameBase=function(t){this.dir=t[0],this.roleId=t[1],this.name=t[2],this.ip=t[3]},t.prototype.decodeTemp=function(t,e,i,n,o,r,a){this.name=t,this.ready=e,this.head=i,this.dir=n,this.duiCardList=r,this.playedCardList=a},t}();__reflect(HeroVO.prototype,"HeroVO");var CachePool=function(){function t(){this.objPoolDict=new Object}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.reBack=function(t){var e=egret.getQualifiedClassName(t);null!=t&&(null==this.objPoolDict[e]&&(this.objPoolDict[e]=[]),this.objPoolDict[e].lenth>50||this.objPoolDict[e].push(t))},t.prototype.getObject=function(t){var e=egret.getQualifiedClassName(t);if(null!=this.objPoolDict[e]&&this.objPoolDict[e].length>0)return this.objPoolDict[e].pop();var i=new t;return i},t}();__reflect(CachePool.prototype,"CachePool");var SendOperate=function(){function t(){this.socket=GlobalDefine.socket}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.requestLogin=function(){var t=GlobalDefine.shebeima?GlobalDefine.shebeima:"fd"+Math.floor(1e5*Math.random());this.socket.sendData(10003,[2,"","",t,""])},t.prototype.requestCreateRoom=function(t,e){this.socket.sendData(10007,[t,e])},t.prototype.requestEnterRoom=function(t){this.socket.sendData(10008,t)},t.prototype.requestPlayCard=function(t){this.socket.sendData(10011,t)},t.prototype.requestOperate=function(t){this.socket.sendData(10013,t)},t.prototype.requestEatCard=function(t){this.socket.sendData(10022,t)},t.prototype.requestJiesanRoom=function(){this.socket.sendData(10014)},t.prototype.requestExitRoom=function(){this.socket.sendData(10015)},t.prototype.requestStartAgainGame=function(){this.socket.sendData(10017)},t}();__reflect(SendOperate.prototype,"SendOperate");var TFacade=function(){function t(){}return t.toggleUI=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=1);var n=this.facade.getInstance(t);if(!n){if(0==e)return null;var o=this.facade.getUIClass(t);n=new o,this.facade.registerInstance(t,n)}return n.stage?(0==e||-1==e)&&DisplayUtil.removeDisplay(n):(1==e||-1==e)&&(this.facade.currentShowUI&&1==n.closeOther&&this.facade.currentShowUI.stage&&this.facade.currentShowUI.hideable&&DisplayUtil.removeDisplay(this.facade.currentShowUI),1==n.closeOther&&(this.facade.currentShowUI=n),1!=i||n.isAloneShow?LayerManage.instance.panelChildLayer2.addChild(n):LayerManage.instance.panelChildLayer1.addChild(n)),n},t.getProxy=function(t){var e=this.facade.getProxy(t);if(!e)throw new Error("请先注册");return e},t}();TFacade.facade=new Facade,__reflect(TFacade.prototype,"TFacade");var CardRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.model=TFacade.getProxy(MjModel.NAME),this.plIcon=new eui.Image,this.addChild(this.plIcon)},e.prototype.dataChanged=function(){if(this.data){this.plIcon.source=null,this.icon||(this.icon=new AsyImage(0,0,!0),this.addChildAt(this.icon,0),this.icon.touchEnabled=this.icon.touchChildren=!1);var t=this.data;this.cvo=t;var e;if(t.position==this.model.mainDir){var i=this.model.getIconStyle(t.position),n=this.model.getIconPByPosition(t.position),o=4==t.style?t.type+1-10:t.type;e="p"+n+i+t.style+"_"+o,this.icon.setUrl(e),this.model.card_pizi.style==t.style&&this.model.card_pizi.type==t.type&&(this.plIcon.visible=!0,this.plIcon.source=SheetManage.getTextureFromCenter("icon_pizi")),this.model.card_laizi.style==t.style&&this.model.card_laizi.type==t.type&&(this.plIcon.visible=!0,this.plIcon.source=SheetManage.getTextureFromCenter("icon_laizi")),this.plIcon.x=53,this.plIcon.y=2}else{var r=this.model.getIconPByPosition(t.position);e="tbgs_"+r,this.icon.setUrl(e),this.plIcon.visible=!1}this.dir=t.position}},e.prototype.refreshOther=function(){this.offsetLastCard()},e.prototype.offsetLastCard=function(){if(this.cvo.justGet){var t=20,e=this.model.mainDir;this.model.checkIsTop(e,this.dir)?this.x-=t:this.model.checkIsLeft(e,this.dir)?this.y+=t:this.model.checkIsRight(e,this.dir)?this.y-=t+8:this.x+=t}},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(CardRender.prototype,"CardRender");var CreateRoomRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){},e.prototype.dataChanged=function(){var t=this.data;if(this.ck=new CRSelectBox(t[0]),this.addChild(this.ck),t[2]){var e=new eui.Image;e.x=96,e.y=-6,e.source=SheetManage.getTextureFromSheet("main_ka","mj_mainFrame_json"),this.addChild(e)}},e.prototype.doChoose=function(){this.ck.gou.visible=this.choosed},e}(RenderBase);__reflect(CreateRoomRender.prototype,"CreateRoomRender");var DuiCardRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.model=TFacade.getProxy(MjModel.NAME),this.icon=new AsyImage(0,0,!0),this.addChild(this.icon)},e.prototype.dataChanged=function(){if(!this.data)return void this.clear();this.icon||(this.icon=new AsyImage(0,0,!0),this.addChild(this.icon));var t=this.data;this.cvo=t;var e,i=this.model.getIconPByPosition(t.position),n=4==t.style?t.type+1-10:t.type;e="p"+i+"s"+t.style+"_"+n,this.icon.setUrl(e)},e.prototype.setScale=function(t,e){this.icon&&(this.icon.scaleX=t,this.icon.scaleY=e)},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(DuiCardRender.prototype,"DuiCardRender");var EatCardRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.icon=new AsyImage(0,0,!0),this.addChild(this.icon)},e.prototype.dataChanged=function(){if(this.data){this.icon||(this.icon=new AsyImage(0,0,!0),this.addChild(this.icon));var t=this.data;this.cvo=t;var e,i=4==t.style?t.type+1-10:t.type;e="p4s"+t.style+"_"+i,this.icon.setUrl(e)}},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(EatCardRender.prototype,"EatCardRender");var EatRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null),this.list=new HPagelist(EatCardRender,55,84,!1),this.addChild(this.list)},e.prototype.dataChanged=function(){this.list.displayList(this.data)},e}(RenderBase);__reflect(EatRender.prototype,"EatRender");var HelpRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.label=new eui.Label,this.addChild(this.label),this.label.size=30,this.label.width=444,this.label.wordWrap=!0,this.img=new AsyImage,this.addChild(this.img),this.img.touchEnabled=!0},e.prototype.dataChanged=function(){this.img.setUrl(PathDefine.UI_IMAGE+"testHelp.png",this.loadOver,this)},e.prototype.loadOver=function(){this.height=this.img.height},e}(RenderBase);__reflect(HelpRender.prototype,"HelpRender");var OperateRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.model=TFacade.getProxy(MjModel.NAME)},e.prototype.dataChanged=function(){this.img||(this.img=new AsyImage(0,0,!0),this.addChild(this.img));var t=this.data;this.img.getImg().source=this.model.getOperateTexture(t)},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.img),this.img=null},e}(RenderBase);__reflect(OperateRender.prototype,"OperateRender");var PlayedCardRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.model=TFacade.getProxy(MjModel.NAME),this.icon=new AsyImage(0,0,!0),this.addChild(this.icon)},e.prototype.dataChanged=function(){if(this.data){this.icon||(this.icon=new AsyImage(0,0,!0),this.addChild(this.icon));var t=this.data;this.cvo=t;var e,i=this.model.getIconPByPosition(t.position),n=4==t.style?t.type+1-10:t.type;e="p"+i+"s"+t.style+"_"+n,this.icon.setUrl(e),t.position==this.model.mainDir&&this.icon.setScale(.65,.65)}},e.prototype.showSign=function(){this.ud=LayerManage.instance.getUpDown(),this.addChild(this.ud),this.cvo.position!=this.model.mainDir?(this.ud.x=.5*this.icon.width,this.ud.y=-15):(this.ud.x=16,this.ud.y=-15)},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.ud),this.icon.clear(),DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(PlayedCardRender.prototype,"PlayedCardRender");var CodeDB=function(){function t(){}return t.prototype.decode=function(t){this._obj={};for(var e in t){var i=t[e];this._obj[i.code]=i.des}},t.prototype.getDes=function(t){return this._obj[t]},t}();CodeDB.instance=new CodeDB,__reflect(CodeDB.prototype,"CodeDB");var PlayerLeftRender=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childInit=function(){this.horNum=12,this.ownCardList=new HPagelist(CardRender,24,30,!0),this.ownCardList.updateXY(166,13),this.addChild(this.ownCardList),this.duiList=new HPagelist(DuiCardRender,49,27,!0),this.duiList.updateXY(154,14),this.addChild(this.duiList),this.playedList=new HPagelist(PlayedCardRender,49,27,!1,this.horNum),this.playedList.updateXY(222,90),this.addChild(this.playedList),this.head.updateXY(14,78),this.head.readyPic.x=120,this.head.readyPic.y=52,this.opEffectItem.updateXY(250,232)},e.prototype.layout=function(){this.refreshOwnCardPosition()},e.prototype.refreshOwnCardPosition=function(){this.duiList?this.ownCardList.y=this.vo.duiCardList?27*this.vo.duiCardList.length+28:13:this.ownCardList.y=13},e}(PlayerBaseRender);__reflect(PlayerLeftRender.prototype,"PlayerLeftRender");var PlayerRightRender=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childInit=function(){this.topNum=12,this.ownCardList=new HPagelist(CardRender,24,30,!0),this.ownCardList.updateXY(52,15),this.addChild(this.ownCardList),this.duiList=new HPagelist(DuiCardRender,49,27,!0),this.duiList.updateXY(38,448),this.addChild(this.duiList),this.playedList=new HPagelist(PlayedCardRender,49,27,!1,this.topNum),this.playedList.layoutDirX=-1,this.playedList.downUp=!0,this.playedList.updateXY(-31,81),this.addChild(this.playedList),this.head.readyPic.x=-38,this.head.readyPic.y=62,this.opEffectItem.updateXY(-86,227),this.head.updateXY(90,44)},e.prototype.layout=function(){this.refreshDuiCardLocation()},e.prototype.refreshOwnCard=function(){this.ownCardList&&(this.ownCardList.displayList(this.vo.ownCardList),this.ownCardList.refreshOther(),this.refreshOwnCardPosition())},e.prototype.refreshDuiCardLocation=function(){var t=this.vo.duiCardList?27*this.vo.duiCardList.length:0;this.duiList.y=458-t,this.refreshOwnCardPosition()},e.prototype.refreshOwnCardPosition=function(){var t=this.vo.ownCardList?30*this.vo.ownCardList.length:0;this.ownCardList.y=this.duiList.y-30-t},e.prototype.addVoToOwnCardList=function(t){this.vo.ownCardList.unshift(t)},e.prototype.addVoToduiCardList=function(t){this.vo.duiCardList.unshift(t)},e.prototype.refreshPlayedCard=function(){this.playedList&&this.playedList.displayList(this.vo.playedCardList)},e}(PlayerBaseRender);__reflect(PlayerRightRender.prototype,"PlayerRightRender");var PlayerTopRender=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childInit=function(){this.horNum=13,this.ownCardList=new HPagelist(CardRender,38,59,!1),this.ownCardList.updateXY(55,4),this.ownCardList.rightLeft=!0,this.addChild(this.ownCardList),this.duiList=new HPagelist(DuiCardRender,36,55,!1),this.duiList.updateXY(586,6),this.addChild(this.duiList),this.playedList=new HPagelist(PlayedCardRender,36,43,!0,this.horNum),this.playedList.rightLeft=!0,this.playedList.updateXY(46,92),this.addChild(this.playedList),this.head.readyPic.x=-45,this.head.readyPic.y=47,this.opEffectItem.updateXY(341,125),this.head.updateXY(633,0)},e.prototype.layout=function(){this.refreshOwnCardPosition()},e.prototype.refreshOwnCardPosition=function(){var t=this.vo.duiCardList?36*this.vo.duiCardList.length:0;this.duiList.x=596-t},e.prototype.refreshPlayedCard=function(){this.playedList&&this.playedList.displayList(this.vo.playedCardList)},e.prototype.addVoToOwnCardList=function(t){this.vo.ownCardList.unshift(t)},e}(PlayerBaseRender);__reflect(PlayerTopRender.prototype,"PlayerTopRender");var PlayerUnderRender=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childInit=function(){this.horNum=13,this.ownCardList=new HPagelist(CardRender,83,125,!1),this.ownCardList.updateXY(23,141),this.addChild(this.ownCardList),this.duiList=new HPagelist(DuiCardRender,55,84,!1),this.duiList.updateXY(30,177),this.addChild(this.duiList),this.playedList=new HPagelist(PlayedCardRender,36,43,!0,this.horNum),this.playedList.layoutDirY=-1,this.playedList.updateXY(346,68),this.addChild(this.playedList),this.head.readyPic.x=125,this.head.readyPic.y=53,this.opEffectItem.updateXY(575,80),this.head.updateXY(0,-15)},e.prototype.layout=function(){this.refreshOwnCardPosition()},e.prototype.refreshOwnCardPosition=function(){this.duiList?this.ownCardList.x=this.vo.duiCardList?55*this.vo.duiCardList.length+43:23:this.ownCardList.x=23},e}(PlayerBaseRender);__reflect(PlayerUnderRender.prototype,"PlayerUnderRender");var FrameDecoder=function(t){function e(){var e=t.call(this)||this;return e.types=[13001,13002,13003,14002,16001,11001],e.model=TFacade.getProxy(MjModel.NAME),e}return __extends(e,t),e.prototype.f_13001=function(t){this.model.gonggaoList=[];var e;for(var i in t){var n=t[i];e=new GonggaoVO,e.decode(n),this.model.gonggaoList.push(e)}this.model.simpleDispatcher(MjModel.GET_GONGGAO_LIST)},e.prototype.f_13002=function(t){var e=new GonggaoVO;e.decode(t),this.model.gonggaoList||(this.model.gonggaoList=[]),this.model.gonggaoList.unshift(e)},e.prototype.f_13003=function(t){if(this.model.gonggaoList)for(var e=this.model.gonggaoList.length,i=0;e>i;i++){var n=this.model.gonggaoList[i];if(n.id==t[0]){this.model.gonggaoList.splice(i,1);break}}},e.prototype.f_14002=function(t){this.model.mailList=[];for(var e in t){var i=t[e],n=new MailVO;n.decode(i),this.model.mailList.push(n)}},e.prototype.f_16001=function(t){var e=new VersionVO;e.type=t[0],e.content=t[1],e.version=t[2],this.model.versionData=e},e.prototype.f_11001=function(t){!this.checkSucc(t)},e}(TDecoder);__reflect(FrameDecoder.prototype,"FrameDecoder");var RoleHeadRender=function(t){function e(){return t.call(this,"resource/UI_exml/RoleItem.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.bg=new AsyImage(81,79),this.addChild(this.bg),this.bg.updateXY(25,11),this.addChild(this.label_name),this.readyPic=new eui.Image,this.readyPic.source=SheetManage.getTextureFromCenter("ready_sign"),this.addChild(this.readyPic)},e.prototype.dataChanged=function(){this.vo=this.data,this.bg.setUrl(PathDefine.UI_IMAGE+this.vo.head+".png"),this.label_name.text=this.vo.name,this.label_id.text=this.vo.roleId.toString()},e}(RenderBase);__reflect(RoleHeadRender.prototype,"RoleHeadRender");var SettleCardRender=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.icon=new AsyImage(0,0,!0),this.addChild(this.icon)},e.prototype.dataChanged=function(){if(this.data){this.icon||(this.icon=new AsyImage(0,0,!0),this.addChild(this.icon));var t=this.data;this.cvo=t;var e,i=4==t.style?t.type+1-10:t.type;e="p4s"+t.style+"_"+i,this.icon.setUrl(e),this.icon.setScale(.64,.64)}},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(SettleCardRender.prototype,"SettleCardRender");var SettleRender=function(t){function e(){return t.call(this,"resource/UI_exml/SettleItem.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null);var e=new AsyImage;this.addChildAt(e,0),e.setUrl(PathDefine.UI_IMAGE+"settle_bar.png"),this.list=new HPagelist(SettleCardRender,36,84,!1),this.list.updateXY(118,45),this.addChild(this.list),this.model=TFacade.getProxy(MjModel.NAME),this.label_win=new AniLabel("mj_settleWinFont_fnt",-2),this.addChild(this.label_win),this.label_lose=new AniLabel("mj_settleLoseFont_fnt",-2),this.addChild(this.label_lose)},e.prototype.dataChanged=function(){var t=this.data,e=this.model.playerData[t.roleId];e&&(this.label_name.text=e.name,this.label_id.text=e.roleId.toString()),this.list.displayList(t.cardList);var i;this.label_lose.visible=t.curScore<0,this.label_win.visible=t.curScore>=0;var n;t.curScore>=0?(i=this.label_win,n="+"):(i=this.label_lose,n="-"),i.text=n+Math.abs(t.curScore),i.x=776,i.y=35},e}(RenderBase);__reflect(SettleRender.prototype,"SettleRender");var TweenCard=function(t){function e(){return t.call(this,"")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.icon=new AsyImage(0,0,!0),this.addChild(this.icon)},e.prototype.dataChanged=function(){if(this.data){this.icon||(this.icon=new AsyImage(0,0,!0),this.addChild(this.icon));var t,e=this.data,i=4==e.style?e.type+1-10:e.type;t="p4s"+e.style+"_"+i,this.icon.setUrl(t)}},e.prototype.clear=function(){DisplayUtil.removeDisplay(this.icon),this.icon=null},e}(RenderBase);__reflect(TweenCard.prototype,"TweenCard");var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function o(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var BasefaceUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/BaseFace.exml")||this;return e.hideable=!1,e}return __extends(e,t),e.prototype.bindEvent=function(){this._eventList[TabItemList.TAB_CHANGE]=[this.tabChangeHandler,this]},e.prototype.uiLoadComplete=function(t){this.tabList=new TabItemList,this.addChild(this.tabList);var e;e=new TButton(this.btn_role,"btn_role"),this.tabList.addItem(e),e=new TButton(this.btn_bag,"btn_bag"),this.tabList.addItem(e),e=new TButton(this.btn_baozhilin,"btn_baozhilin"),this.tabList.addItem(e),e=new TButton(this.btn_battle,"btn_battle"),this.tabList.addItem(e),e=new TButton(this.btn_shop,"btn_shop"),this.tabList.addItem(e),e=new TButton(this.btn_more,"btn_more"),this.tabList.addItem(e),this.y=GlobalDefine.stage.stageHeight-this.height+2},e.prototype.getTexture=function(t){return SheetManage.getTextureFromSheet(t,"minihero_json")},e.prototype.tabChangeHandler=function(t){},e}(UIBase);BasefaceUI.NAME="BasefaceUI",__reflect(BasefaceUI.prototype,"BasefaceUI");var CommonSureUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/CommonSure.exml")||this;return e.centerFlag=!0,e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){CommonTool.addStroke(this.label_title,2,8947848),this.btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.btn_cancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},e.prototype.doExecute=function(){if("msg"==this.paramstype)this.label_content.text=this.params,this.btn_cancel.visible=this.btn_sure.visible=!1,this.btn_sure.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sureDoSomething,this);else if("buy"==this.paramstype){var t=this.params;this.label_content.text=t[0],this.backFun=t[1],this.backThisObj=t[2],this.btn_cancel.visible=this.btn_sure.visible=!0,this.btn_sure.x=257,this.btn_sure.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sureDoSomething,this)}else if("noCancel"==this.paramstype){var t=this.params;this.label_content.text=t[0],this.backFun=t[1],this.backThisObj=t[2],this.btn_cancel.visible=!1,this.btn_sure.visible=!0,this.btn_sure.x=148,this.btn_sure.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sureDoSomething,this)
}},e.prototype.sureDoSomething=function(t){this.backFun.call(this.backThisObj),this.hide()},e}(UIBase);CommonSureUI.NAME="CommonSureUI",__reflect(CommonSureUI.prototype,"CommonSureUI");var CreateRoomUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/CreateRoom.exml","createRoom")||this;return e.curJu=2,e.curZuan=1,e.centerFlag=!0,e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.moshiList=new HPagelist(CreateRoomRender,398,35,!1),this.addChild(this.moshiList),this.moshiList.updateXY(183,109),this.moshiList.displayList([["开口番",1],["口口番",2]]),this.moshiList.selectAt(0),this.wanfaList=new HPagelist(CreateRoomRender,398,50,!0,2),this.addChild(this.wanfaList),this.wanfaList.updateXY(183,170),this.wanfaList.displayList([["红中赖子杠",1],["红中发财赖子杠",2],["七皮四赖杠",3],["红中七皮四赖杠",4],["原赖加番",5],["下大雨",6]]),this.wanfaList.selectAt(0),this.qihuList=new HPagelist(CreateRoomRender,199,35,!1),this.addChild(this.qihuList),this.qihuList.updateXY(183,324),this.qihuList.displayList([["无",1],["16倍起胡",2],["32倍起胡",3],["64倍起胡",4]]),this.qihuList.selectAt(0),this.fengdingList=new HPagelist(CreateRoomRender,398,35,!1),this.addChild(this.fengdingList),this.fengdingList.updateXY(183,373),this.fengdingList.displayList([["300倍",1],["500倍",2]]),this.fengdingList.selectAt(0),this.juList=new HPagelist(CreateRoomRender,398,35,!1),this.addChild(this.juList),this.juList.updateXY(183,480),this.juList.displayList([["4局(      ×2)",1,!0],["8局(      ×8)",2,!0]]),this.juList.selectAt(0),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.btn_sure.addEventListener(egret.TouchEvent.TOUCH_TAP,this.createSureHandler,this)},e.prototype.createSureHandler=function(){this.hide(),SendOperate.instance.requestCreateRoom(this.curJu,this.curZuan)},e}(UIBase);CreateRoomUI.NAME="CreateRoomUI",__reflect(CreateRoomUI.prototype,"CreateRoomUI");var DengluUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Denglu.exml")||this;return e.centerFlag=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.bindEvent=function(){this._eventList[MjModel.LOGIN_SUCC]=[this.loginSuccBack,this]},e.prototype.backGroundClick=function(){},e.prototype.testLay=function(){},e.prototype.uiLoadComplete=function(){this.bg=new AsyImage(0,0),this.addChildAt(this.bg,0),this.bg.setUrl(PathDefine.UI_IMAGE+"login_bg.jpg",this.testLay,this);var t=new eui.Image;this.addChild(t),t.source=PathDefine.UI_IMAGE+"logo.png",t.x=100,t.y=84,this.img_webchat=new AsyImage,this.addChild(this.img_webchat),this.img_webchat.updateXY(440,460),this.img_webchat.setUrl(PathDefine.UI_IMAGE+"btn_weixin.png"),this.img_webchat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startHandler,this),this.state=new State,this.addChild(this.state),this.state.add("login",[this.img_webchat]),this.state.add("loading",[this.img_loadBg,this.img_loadTiao,this.img_zi,this.label_loadMsg]),this.state.state="login",this.pb=new ProgressBar(this.img_loadTiao)},e.prototype.startHandler=function(t){if(GlobalDefine.WEB_SOCKE_COLLECTED&&(SendOperate.instance.requestLogin(),!GlobalDefine.backSoundChannel)){var e=RES.getRes("bgm2_mp3");GlobalDefine.backSoundChannel=e.play(0,0)}},e.prototype.loginSuccBack=function(){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.createGroup("gameR",["mainFrame","gameRes"]),RES.loadGroup("gameR"),this.state.state="loading"},e.prototype.onResourceLoadComplete=function(t){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),TFacade.toggleUI(e.NAME,0),TFacade.toggleUI(MainFrameUI.NAME,1)},e.prototype.onResourceProgress=function(t){this.pb.setData(t.itemsLoaded,t.itemsTotal);var e=Math.round(t.itemsLoaded/t.itemsTotal*100);this.label_loadMsg.text=e+"%"},e.prototype.sleep=function(){Tnotice._instance.hideGonggao()},e}(UIBase);DengluUI.NAME="DengluUI",__reflect(DengluUI.prototype,"DengluUI");var DirectionUI=function(t){function e(){return t.call(this,"resource/UI_exml/Direction.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.container=new egret.Sprite,this.container.addChild(this.img_bg);for(var t=1;4>=t;t++)this["img_"+t].visible=!1,this.container.addChild(this["img_"+t]);this.rotationSp=new egret.Sprite;var e=this.img_bg.width/2,i=this.img_bg.height/2;this.rotationSp.addChild(this.container),this.container.x=-e,this.container.y=-i,this.addChild(this.rotationSp),this.rotationSp.x=e,this.rotationSp.y=i},e.prototype.bindEvent=function(){this.model=TFacade.getProxy(MjModel.NAME)},e.prototype.setDirection=function(t){switch(t){case 1:this.rotationSp.rotation=90;break;case 2:this.rotationSp.rotation=180;break;case 3:this.rotationSp.rotation=-90;break;case 4:this.rotationSp.rotation=0}},e.prototype.playCardDirection=function(t){for(var e,i=1;4>=i;i++)e=this["img_"+i],e.visible=t==i},e}(UIBase);__reflect(DirectionUI.prototype,"DirectionUI");var EatUI=function(t){function e(){var e=t.call(this,"")||this;return e.isAloneShow=!0,e.centerFlag=!0,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.y=.88*GlobalDefine.stageH,this.model=TFacade.getProxy(MjModel.NAME),this.list=new HPagelist(EatRender,220,84,!1),this.addChild(this.list),this.list.addEventListener(HPagelist.RENDER_CHANGE,this.renderClick,this)},e.prototype.renderClick=function(t){var e=this.list.currentItem.data,i=[];for(var n in e){var o=e[n];o.id!=this.model.playingCard.id&&i.push(o.id)}SendOperate.instance.requestEatCard(i),this.hide()},e.prototype.doExecute=function(){var t=this.model.playingCard,e=this.model.getHeromsg()[GlobalDefine.herovo.roleId];this.ownList=e.ownCardList;var i=[],n=this.getCard(t.style,t.type+1),o=this.getCard(t.style,t.type+2);n&&o&&i.push([t,n,o]);var r=this.getCard(t.style,t.type-1);n&&r&&i.push([r,t,n]);var a=this.getCard(t.style,t.type-2);r&&a&&i.push([a,r,t]),this.list.displayList(i),this.outIndex=egret.setTimeout(this.layout,this,100),this.list.visible=!1},e.prototype.layout=function(){egret.clearTimeout(this.outIndex),this.x=.5*GlobalDefine.stageW-.5*this.list.width,this.list.visible=!0,this.y=.68*GlobalDefine.stageH},e.prototype.getCard=function(t,e){for(var i,n=0;n<this.ownList.length;n++)if(i=this.ownList[n],i.style==t&&!(t==this.model.card_pizi.style&&e==this.model.card_pizi.type||t==this.model.card_laizi.style&&e==this.model.card_laizi.type||i.style!=t||i.type!=e))return i;return null},e.prototype.backGroundClick=function(){},e}(UIBase);EatUI.NAME="EatUI",__reflect(EatUI.prototype,"EatUI");var EmailUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Email.exml")||this;return e.isAloneShow=!0,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){},e}(UIBase);EmailUI.NAME="EmailUI",__reflect(EmailUI.prototype,"EmailUI");var EnterRoomUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/EnterRoom.exml","enterRoom")||this;return e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.bindEvent=function(){this.model=TFacade.getProxy(MjModel.NAME)},e.prototype.uiLoadComplete=function(){var t;t=new eui.Image,t.source=PathDefine.UI_IMAGE+"frameBarShort.png",this.addChild(t),t.x=150,t.y=15,t=new eui.Image,t.source=this.getTexture("enterRoomTitle"),this.addChild(t),t.x=274,t.y=19;var e=0;for(e=1;12>=e;e++)t=new eui.Image,9>=e?(t.source=this.getTexture("btn_num_"+e),t.name=e.toString()):10==e?(t.source=this.getTexture("btn_reset"),t.name="100"):11==e?(t.source=this.getTexture("btn_num_0"),t.name="0"):(t.source=this.getTexture("btn_del"),t.name="90"),t.x=(e-1)%3*193+66,t.y=65*Math.floor((e-1)/3)+159,this.addChild(t),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.operateHandler,this);this.numDatas=[],this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},e.prototype.operateHandler=function(t){var e=t.currentTarget,i=parseInt(e.name);if(i>=0&&9>=i){if(this.numDatas.length>=6)return;this.numDatas.push(i)}else if(90==i)this.numDatas.pop();else{if(100!=i)return;this.numDatas.length=0}this.updateLabel()},e.prototype.updateLabel=function(){var t=this.numDatas.join("");this.label_num.text=t,this.numDatas.length>=6&&this.checkPassword(t)},e.prototype.checkPassword=function(t){var e=parseInt(t);SendOperate.instance.requestEnterRoom(e)},e.prototype.getTexture=function(t){return SheetManage.getTextureFromSheet(t,"mj_enterroom_json")},e.prototype.sleep=function(){this.numDatas.length=0,this.updateLabel()},e}(UIBase);EnterRoomUI.NAME="EnterRoomUI",__reflect(EnterRoomUI.prototype,"EnterRoomUI");var GameOverRender=function(t){function e(){return t.call(this,"resource/UI_exml/GameOverItem.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null);var e=new AsyImage;this.addChildAt(e,0),e.setUrl(PathDefine.UI_IMAGE+"settle_renderBg.png"),this.list=new HPagelist(OverLabelRender,180,33),this.list.updateXY(35,122),this.addChild(this.list),this.label_win=new AniLabel("mj_settleWinFont_fnt",-2),this.addChild(this.label_win),this.label_lose=new AniLabel("mj_settleLoseFont_fnt",-2),this.addChild(this.label_lose)},e.prototype.dataChanged=function(){var t=this.data;this.label_id.text=t.roleid.toString(),this.label_name.text=t.name,this.list.displayList(t.countList);var e;this.label_lose.visible=t.score<0,this.label_win.visible=t.score>=0;var i;t.score>=0?(e=this.label_win,i="+"):(e=this.label_lose,i="-"),e.text=i+Math.abs(t.score),e.x=110-.5*e.width,e.y=338},e}(RenderBase);__reflect(GameOverRender.prototype,"GameOverRender");var GameOverUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/GameOver.exml","settle")||this;return e.isAloneShow=!0,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.model=TFacade.getProxy(MjModel.NAME),this.list=new HPagelist(GameOverRender,236,404,!1),this.addChild(this.list),this.list.updateXY(46,113),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},e.prototype.sleep=function(){TFacade.toggleUI(MainGameUI.NAME,0),TFacade.toggleUI(MainFrameUI.NAME,1)},e.prototype.doExecute=function(){var t=[];for(var e in this.model.overData)t.push(this.model.overData[e]);this.list.displayList(t)},e.prototype.backGroundClick=function(){},e}(UIBase);GameOverUI.NAME="GameOverUI",__reflect(GameOverUI.prototype,"GameOverUI");var GonggaoUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Gonggao.exml")||this;return e.centerFlag=!0,e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){},e}(UIBase);GonggaoUI.NAME="GonggaoUI",__reflect(GonggaoUI.prototype,"GonggaoUI");var HelpUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Help.exml")||this;return e.centerFlag=!0,e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){this.sb_target=new ScrollBar(this.list_target),this.addChild(this.sb_target),this.plist=new PageList(this.list_target,HelpRender),this.plist.displayList(["啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发啊发顺丰福建省付款as发骚发骚发骚撒发顺丰发杀神风啊啊算法沙发上发as发生发发"])},e}(UIBase);HelpUI.NAME="HelpUI",__reflect(HelpUI.prototype,"HelpUI");var MainFrameUI=function(t){function e(){return t.call(this,"resource/UI_exml/MainFrame.exml","mainFrame")||this}return __extends(e,t),e.prototype.bindEvent=function(){this._eventList[MjModel.PASSWORD_RIGHT]=[this.enterGame,this],this._eventList[MjModel.ENTER_ROOM_SUCC]=[this.sleep,this]},e.prototype.uiLoadComplete=function(){var t=new AsyImage(0,0);this.addChildAt(t,0),t.setUrl(PathDefine.UI_IMAGE+"mainFrame.jpg"),t=new AsyImage,t.x=22,t.y=652,this.addChildAt(t,1),t.setUrl(PathDefine.UI_IMAGE+"main_diban.png"),t=new AsyImage,this.addChild(t),t.x=430,t.y=586,t.setUrl(PathDefine.UI_IMAGE+"main_logo.png"),this.img_head=new AsyImage,this.addChild(this.img_head),this.img_head.setScale(.9,.9),this.img_head.updateXY(11,12),this.img_enter=new AsyImage,this.addChild(this.img_enter),this.img_enter.updateXY(665,126),this.img_enter.setUrl(PathDefine.UI_IMAGE+"main_enterRoom.png"),this.img_enter.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterRoomHandler,this),this.img_create=new AsyImage,this.addChild(this.img_create),this.img_create.updateXY(102,126),this.img_create.setUrl(PathDefine.UI_IMAGE+"main_createRoom.png"),this.img_create.addEventListener(egret.TouchEvent.TOUCH_TAP,this.createRoomHandler,this),this.btn_rule=new TButton(this.com_rule,"btn_rule"),this.btn_rule.addBgIcon(this.getTexture("main_rule")),this.btn_rule.skin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.helpHandler,this),this.btn_message=new TButton(this.com_message,"btn_message"),this.btn_message.addBgIcon(this.getTexture("main_msg")),this.btn_message.skin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.messageHandler,this),this.btn_setting=new TButton(this.com_setting,"btn_setting"),this.btn_setting.addBgIcon(this.getTexture("main_set")),this.btn_setting.skin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.settingHandler,this),this.btn_add.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showShop,this),this.roleVo=GlobalDefine.herovo,this.initRoleMsg();var e=new egret.Shape;e.graphics.beginFill(0,1),e.graphics.drawRect(0,0,577,34),e.x=390,e.y=11,e.graphics.endFill(),this.addChild(e),Tnotice.instance.playGonggao("浠水麻将666今日公测,欢迎品尝",!0,e)},e.prototype.initRoleMsg=function(){this.label_name.text=this.roleVo.name,this.label_diamond.text=this.roleVo.diamond.toString(),this.img_head.setUrl(this.roleVo.head)},e.prototype.showShop=function(t){SendOperate.instance.requestOperate(1)},e.prototype.enterGame=function(){TFacade.toggleUI(EnterRoomUI.NAME,0),TFacade.toggleUI(MainGameUI.NAME,1),Tnotice.instance.hideGonggao()},e.prototype.enterRoomHandler=function(t){TFacade.toggleUI(EnterRoomUI.NAME,1)},e.prototype.createRoomHandler=function(t){TFacade.toggleUI(CreateRoomUI.NAME,1)},e.prototype.helpHandler=function(t){},e.prototype.sleep=function(){Tnotice.instance.hideGonggao()},e.prototype.messageHandler=function(t){},e.prototype.settingHandler=function(t){TFacade.toggleUI(SettingUI.NAME)},e.prototype.getTexture=function(t){return SheetManage.getTextureFromSheet(t,"mj_mainFrame_json")},e}(UIBase);MainFrameUI.NAME="MainFrameUI",__reflect(MainFrameUI.prototype,"MainFrameUI");var MainGameUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/MainGame.exml")||this;return e.deleObj={},e.closeOther=!1,e}return __extends(e,t),e.prototype.bindEvent=function(){this.model=TFacade.getProxy(MjModel.NAME),this._eventList[MjModel.ENTER_ROOM_SUCC]=[this.updatePlayer,this],this._eventList[MjModel.INIT_CARD_SUCC]=[this.refreshPlayerCard,this],this._eventList[MjModel.SOMEONE_GET_CARD]=[this.someoneGetCard,this],this._eventList[MjModel.SOMEONE_PLAY_CARD]=[this.somonePlayedCard,this],this._eventList[MjModel.SING_OPERATE_SUCC]=[this.singOperate,this],this._eventList[MjModel.SOMEONE_READY_GAME]=[this.someReady,this],this._eventList[MjModel.GAME_START_AGAIN]=[this.gamestartAgain,this],this._eventList[MjModel.SING_APPEAR]=[this.appearSign,this]},e.prototype.uiLoadComplete=function(){this.deleObj={};var t=new AsyImage(0,0,!0);this.addChildAt(t,0),t.setUrl(PathDefine.UI_IMAGE+"desk.jpg"),this.pizi=new DuiCardRender,this.pizi.updateXY(45,101),this.addChild(this.pizi),this.laizi=new DuiCardRender,this.laizi.updateXY(109,101),this.addChild(this.laizi),this.dirUI=new DirectionUI,this.dirUI.x=568,this.dirUI.y=288,this.addChild(this.dirUI),this.state=new State,this.addChild(this.state);var e=new AniLabel("mj_redFont_fnt",4);this.addChild(e),this.tickTool=new AniTickTool(e,null,5e3,640,346),this.tickTool.backFun=this.countdownTimeOver,this.tickTool.funThis=this,e.text="15",e.x=640-.5*e.width,e.y=346,this.state.add("game",[this.dirUI,e,this.label_leftCard]),this.state.add("wait",[this.btn_wxInvite,this.img_wxzi]),this.state.state="wait",this.dirUI.setDirection(1),this.dirUI.playCardDirection(1),GlobalDefine.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBeginHandler,this),GlobalDefine.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMoveHandler,this),GlobalDefine.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEndHandler,this),this.btn_back.addEventListener(egret.TouchEvent.TOUCH_TAP,this.backToHall,this),this.btn_set.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showSetHandler,this)},e.prototype.showGonggao=function(t){this.gonggaoMask||(this.gonggaoMask=new egret.Sprite,this.addChild(this.gonggaoMask),this.gonggaoMask.graphics.beginFill(0,1),this.gonggaoMask.graphics.drawRect(0,0,630,22),this.gonggaoMask.x=355,this.gonggaoMask.y=13),this.gonggaoMask.x=362,this.gonggaoMask.y=13,this.addChild(this.gonggaoMask),Tnotice.instance.playGonggao(t,!1,this.gonggaoMask),LayerManage.instance.notice.label.size=18},e.prototype.showSetHandler=function(t){TFacade.toggleUI(SettingUI.NAME),this.showGonggao("你点击了设置")},e.prototype.countdownTimeOver=function(){return this.model.signExist?void SendOperate.instance.requestOperate(7):void(this.model.mainDir==this.model.currentIndex&&this.model.gotCard&&SendOperate.instance.requestPlayCard(this.model.gotCard.id))},e.prototype.backToHall=function(t){Tnotice.instance.popUpTip("现在不能离开哦")},e.prototype.sureJiesan=function(){SendOperate.instance.requestJiesanRoom()},e.prototype.awake=function(){this.updateRoom(),this.updatePlayer(),this.refreshPlayerCard(),this.updateLeftCard()},e.prototype.updateRoom=function(){this.label_room.text=this.model.roomId.toString(),this.label_jushu.text=CommonTool.replaceStr("局数:{0}/{1}",this.model.currentJu,this.model.jushu)},e.prototype.appearSign=function(){this.tickTool.stopTick()},e.prototype.singOperate=function(t){var e=this.deleObj[t[0]];e.refreshRender(),this.dirUI.playCardDirection(this.model.currentIndex),e.showOperateEffect(t[1]),this.tickTool.stopTick(),t[2]&&(e=this.deleObj[t[2]],e.refreshPlayedCard())},e.prototype.gamestartAgain=function(){var t;for(var e in this.deleObj)t=this.deleObj[e],t.refreshRender();this.pizi.data=null,this.laizi.data=null,this.updateLeftCard()},e.prototype.someReady=function(t){var e=this.deleObj[t],i=e.data;i&&i.ready&&e.showReadyHand()},e.prototype.somonePlayedCard=function(t){var e=this.deleObj[t.position];e.addVoToPlayedCardList(t);var i=e.data;e.refreshRender();var n=this.model.getInitP(t.position);i.roleId==GlobalDefine.herovo.roleId?(this.tweenStartX=this.ownTweenStartX,this.tweenStartY=this.ownTweenStartY):(this.tweenStartX=n.x,this.tweenStartY=n.y),this.startPlayCard(t)},e.prototype.someoneGetCard=function(t){var e=this.deleObj[t.position];e.addVoToOwnCardList(t),e.refreshOwnCard(),this.dirUI.playCardDirection(this.model.currentIndex),this.tickTool.stopTick(),this.tickTool.startTick(15e3),this.updateLeftCard()},e.prototype.updateLeftCard=function(){this.label_leftCard.textFlow=CommonTool.replaceStrBackColor('剩余  <font color="#fff000">{0}</font>  张牌',this.model.leftCard)},e.prototype.refreshPlayerCard=function(){this.pizi.data=this.model.card_pizi,this.pizi.setScale(.63,.63),this.laizi.data=this.model.card_laizi,this.laizi.setScale(.63,.63),this.updateRoom(),1==GlobalDefine.gameState&&(this.state.state="game");var t;for(var e in this.model.playerData){var i=this.model.playerData[e];t=this.deleObj[i.dir],t.refreshRender(),i.ready||t.hideReadyHand()}},e.prototype.startPlayCard=function(t){var e=4==t.style?t.type+1-10:t.type;AsySoundManager.instance.loadSound("s"+t.style+"_"+e);var i=this.deleObj[t.position],n=i.data;this.tweenCardVO=t;var o,r=n.ownCardList;for(var a in r)if(o=r[a],o.id==t.id){r.splice(r.indexOf(o),1),n.playedCardList.push(o);break}i.refreshPlayedCard(),this.aimP=i.setNowPlayedCardHide(this.tweenCardVO.id),this.tweening=!0,this.doTween(),i.refreshOwnCard()},e.prototype.touchBeginHandler=function(t){this.tweening||(this.readyCardRender=t.target,GlobalDefine.herovo.roleId!=this.model.whoPlayedCard&&this.model.currentIndex==this.model.mainDir&&this.readyCardRender instanceof CardRender&&this.readyCardRender.data.position==this.model.mainDir?(LayerManage._instance.panelLayer.addChild(this.readyCardRender),this.readyCardRender.updateXY(t.stageX-40,t.stageY-60)):this.readyCardRender=null)},e.prototype.touchMoveHandler=function(t){this.readyCardRender&&this.readyCardRender.updateXY(t.stageX-40,t.stageY-60)},e.prototype.touchEndHandler=function(t){if(this.readyCardRender){var e=this.readyCardRender.data,i=this.deleObj[e.position];this.readyCardRender.y<500?(this.ownTweenStartX=this.readyCardRender.x+30,this.ownTweenStartY=this.readyCardRender.y+10,SendOperate.instance.requestPlayCard(e.id)):i.refreshOwnCard(),this.readyCardRender=null}},e.prototype.doTween=function(){var t=new TweenCard;t.data=this.tweenCardVO,LayerManage.instance.panelLayer.addChild(t),t.updateXY(this.tweenStartX,this.tweenStartY),t.scaleX=.65,t.scaleY=.65;var e=this.getDuration(this.tweenStartX,this.tweenStartY,597,317)+10,i=this.getDuration(597,317,this.aimP.x,this.aimP.y)+10;egret.Tween.get(t).to({x:597,y:317},e).to({scaleX:1.2,scaleY:1.2},500).to({x:this.aimP.x,y:this.aimP.y,scaleX:.65,scaleY:.65},i).call(this.tweenEnd,this,[t])},e.prototype.tweenEnd=function(t){this.tweening=!1,egret.Tween.removeTweens(t),DisplayUtil.removeDisplay(t);var e=this.deleObj[this.tweenCardVO.position];e.setNowPlayedCardShow(this.tweenCardVO.id)},e.prototype.getDuration=function(t,e,i,n){var o=i-t,r=n-e;return Math.abs(Math.sqrt(o*o+r*r))},e.prototype.updatePlayer=function(){var t,e,i=this.model.mainDir,n=this.model.getHeromsg();this.pizi.data=null,this.laizi.data=null;for(var o in this.deleObj)e=this.deleObj[o],DisplayUtil.removeDisplay(e),e=null,delete this.deleObj[o];for(var o in n)t=n[o],this.deleObj[t.dir]||(t.roleId==GlobalDefine.herovo.roleId?(e=new PlayerUnderRender,this.addChild(e),e.updateXY(30,436),e.data=t,this.dirUI.setDirection(t.dir)):this.model.checkIsRight(i,t.dir)?(e=new PlayerRightRender,this.addChild(e),e.updateXY(1050,107),e.data=t):this.model.checkIsTop(i,t.dir)?(e=new PlayerTopRender,this.addChild(e),e.updateXY(302,61),e.data=t):this.model.checkIsLeft(i,t.dir)&&(e=new PlayerLeftRender,this.addChild(e),e.updateXY(17,85),e.data=t),this.deleObj[t.dir]=e);this.state.state="wait"},e}(UIBase);MainGameUI.NAME="MainGameUI",__reflect(MainGameUI.prototype,"MainGameUI");var Notice=function(t){function e(){var e=t.call(this)||this;return e.label=new eui.Label,e.label.size=24,e.label.fontFamily="Microsoft YaHei",e.addChild(e.label),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.removeHandler,e),e}return __extends(e,t),e.prototype.play=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=null),this.masks=i,this.loop=e,this.tw&&egret.Tween.removeTweens(this.label),this.label.text=t,this.doPlay()},e.prototype.playEnd=function(){this.loop?this.doPlay():DisplayUtil.removeDisplay(this)},e.prototype.doPlay=function(){this.tw=egret.Tween.get(this.label),this.label.x=this.masks?this.masks.x+this.masks.width:GlobalDefine.stageW;var t=this.masks?this.masks.x-this.label.width-30:-this.label.width-30;this.tw.to({x:t},2e4),this.tw.call(this.playEnd,this)},e.prototype.removeHandler=function(t){egret.Tween.removeTweens(this.label),this.tw=null},e}(egret.Sprite);__reflect(Notice.prototype,"Notice");var OperateUI=function(t){function e(){return t.call(this,"resource/UI_exml/Operate.exml")||this}return __extends(e,t),e.prototype.bindEvent=function(){},e.prototype.uiLoadComplete=function(){this.y=.5*GlobalDefine.stageH+100,this.list=new HPagelist(OperateRender,91,100,!1),this.addChild(this.list),this.list.addEventListener(HPagelist.RENDER_CHANGE,this.listChange,this)},e.prototype.listChange=function(t){var e=t.data;this.hide(),8==e?TFacade.toggleUI(EatUI.NAME,1).execute("eat"):SendOperate.instance.requestOperate(e)},e.prototype.doExecute=function(){var t=this.params;t.push(7),this.list.displayList(t),this.x=GlobalDefine.stageW-this.width-400},e}(UIBase);OperateUI.NAME="OperateUI",__reflect(OperateUI.prototype,"OperateUI");var OverLabelRender=function(t){function e(){return t.call(this,"resource/UI_exml/OverLabelItem.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(t){void 0===t&&(t=null)},e.prototype.dataChanged=function(){var t=this.data,e="";switch(t[0]){case 1:e="自摸次数";break;case 2:e="接炮次数";break;case 3:e="点炮次数";break;case 4:e="暗杠次数";break;case 5:e="明杠次数"}e+="        "+t[1],this.label_msg.text=e},e}(RenderBase);__reflect(OverLabelRender.prototype,"OverLabelRender");var SettingUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Setting.exml")||this;return e._yinyueOn=!0,e._yinxiaoOn=!0,e.curyinyueV=0,e.curyinxiaoV=0,e.centerFlag=!0,e.isAloneShow=!0,e.closeOther=!1,e}return __extends(e,t),e.prototype.bindEvent=function(){},e.prototype.uiLoadComplete=function(){this.backBar=new OperateBar(this.img_backTiao,this.img_backHead,this.soundBack,this),this.backBar.headOffX=30,this.backBar.parent=this,this.backBar.setData(1),this.yinxiaoBar=new OperateBar(this.img_backTiao0,this.img_backHead0,this.yinxiaoBack,this),this.yinxiaoBar.headOffX=30,this.yinxiaoBar.parent=this,this.yinxiaoBar.setData(1),this.img_yinyueBtn.source=this.getTexture("set_musicOn"),this.img_yinxiaoBtn.source=this.getTexture("set_yinxiaoOn"),this.img_yinyueBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.yinyueTapHandler,this),this.img_yinxiaoBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.yinxiaoTapHandler,this),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this)},e.prototype.setQuitEnabled=function(t){t?(this.btn_exchange.enabled=!0,this.btn_exchange.filters=null,this.img_quitZi.filters=null):(this.btn_exchange.enabled=!1,this.btn_exchange.filters=[CommonTool.grayFilter],this.img_quitZi.filters=[CommonTool.grayFilter])},e.prototype.yinyueTapHandler=function(t){this.yinyueOn=!this.yinyueOn},e.prototype.yinxiaoTapHandler=function(t){this.yinxiaoOn=!this.yinxiaoOn},Object.defineProperty(e.prototype,"yinyueOn",{get:function(){return this._yinyueOn},set:function(t){this._yinyueOn=t,t?(this.img_yinyueBtn.source=this.getTexture("set_musicOn"),GlobalDefine.backSoundChannel.volume=this.curyinyueV):(this.img_yinyueBtn.source=this.getTexture("set_musicOff"),GlobalDefine.backSoundChannel.volume=0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yinxiaoOn",{get:function(){return this._yinxiaoOn},set:function(t){this._yinxiaoOn=t,t?(this.img_yinxiaoBtn.source=this.getTexture("set_yinxiaoOn"),GlobalDefine.playSoundVolume=this.curyinxiaoV):(this.img_yinxiaoBtn.source=this.getTexture("set_yinxiaoOff"),GlobalDefine.playSoundVolume=0)},enumerable:!0,configurable:!0}),e.prototype.soundBack=function(t){t=Math.min(t,1),t=Math.max(t,0),this.curyinyueV=t,this.yinyueOn||(t=0),GlobalDefine.backSoundChannel.volume=t},e.prototype.yinxiaoBack=function(t){t=Math.min(t,1),t=Math.max(t,0),this.curyinxiaoV=t,this.yinxiaoOn||(t=0),GlobalDefine.playSoundVolume=t},e.prototype.getTexture=function(t){return SheetManage.getTextureFromSheet(t,"mj_setting_json")},e}(UIBase);SettingUI.NAME="SettingUI",__reflect(SettingUI.prototype,"SettingUI");var SettlementUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Settlement.exml","settle")||this;return e.centerFlag=!0,e.isAloneShow=!0,e}return __extends(e,t),e.prototype.bindEvent=function(){this.model=TFacade.getProxy(MjModel.NAME)},e.prototype.uiLoadComplete=function(){this.bg=new AsyImage,this.addChildAt(this.bg,0),this.bg.setUrl(PathDefine.UI_IMAGE+"jiesuan_bg.png"),this.list=new HPagelist(SettleRender,200,120,!0,1),this.addChild(this.list),this.list.updateXY(25,100),this.state=new State,this.state.add("win",[this.img_titlewin]),this.state.add("ping",[this.img_titlehuang]),this.state.add("lose",[this.img_titlescore]),this.state.state="win",this.addChild(this.state),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.hide,this),this.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startgame,this)},e.prototype.startgame=function(t){this.hide()},e.prototype.sleep=function(){SendOperate.instance.requestStartAgainGame()},e.prototype.doExecute=function(){var t=[];for(var e in this.model.settleData)t.push(this.model.settleData[e]);this.list.displayList(t),this.state.state=this.params},e}(UIBase);SettlementUI.NAME="SettlementUI",__reflect(SettlementUI.prototype,"SettlementUI");var ShopRender=function(t){function e(){return t.call(this,"resource/UI_exml/ShopItem.exml")||this}return __extends(e,t),e.prototype.uiLoadComplete=function(){},e.prototype.dataChanged=function(){var t=this.data;this.label_diamond.text=t.toString(),this.btn_buy.label=t.toString()},e}(RenderBase);__reflect(ShopRender.prototype,"ShopRender");var ShopUI=function(t){function e(){var e=t.call(this,"resource/UI_exml/Shop.exml")||this;return e.centerFlag=!0,e.closeOther=!1,e.isAloneShow=!0,e}return __extends(e,t),e.prototype.uiLoadComplete=function(){var t=new ScrollBar(this.list_charge);this.addChild(t),this.list=new PageList(this.list_charge,ShopRender),this.list.displayList([88,99,100,500,1e3,3e3])},e}(UIBase);ShopUI.NAME="ShopUI",__reflect(ShopUI.prototype,"ShopUI");var GameDecoder=function(t){function e(){var e=t.call(this)||this;return e.types=[10003,10007,10008,10009,10010,10011,10012,10016,10018,10013,10014,10015,10017,10019],e.model=TFacade.getProxy(MjModel.NAME),e}return __extends(e,t),e.prototype.f_10003=function(t){if(this.checkSucc(t)){var e=GlobalDefine.herovo;e.decode(t[3]),GlobalDefine.userId=t[4],GlobalDefine.ip=t[5],GlobalDefine.serverInfo.serverTime=t[1],GlobalDefine.wxCode="aaaa",this.model.simpleDispatcher(MjModel.LOGIN_SUCC)}},e.prototype.f_10007=function(t){if(this.checkSucc(t)){this.model.roomId=t[1];var e=GlobalDefine.herovo;this.f_10008([1,t[1],t[2],[[1,e.roleId,e.name,e.ip]]])}},e.prototype.f_10008=function(t){if(this.checkSucc(t)){this.model.roomId=t[1],this.model.currentJu=0,this.model.jushu=t[2];var e;this.model.playerData={};for(var i in t[3]){var n=t[3][i];e=new HeroVO,e.decodeGameBase(n),e.ready=!0,this.model.playerData[e.roleId]=e,e.roleId==GlobalDefine.herovo.roleId&&(this.model.mainDir=e.dir)}TFacade.toggleUI(MainGameUI.NAME,1),TFacade.toggleUI(EnterRoomUI.NAME,0),this.model.simpleDispatcher(MjModel.ENTER_ROOM_SUCC)}},e.prototype.f_10009=function(t){this.model.card_pizi=new CardVO,this.model.card_pizi.decode(t[1][0]),this.model.card_laizi=new CardVO,this.model.card_laizi.decode(t[1][1]),this.model.leftCard=84,this.model.currentJu++;var e=this.model.playerData[GlobalDefine.herovo.roleId];e.ownCardList=[],e.ready=!1;var i,n;for(n in t[2]){i=new CardVO;var o=t[2][n];i.decode(o),i.position=e.dir,e.ownCardList.push(i)}this.model.sortCardList(e.ownCardList);var r;for(n in this.model.playerData)if(r=this.model.playerData[n],r.ready=!1,r.roleId!=e.roleId){r.ownCardList=[];for(var a=0;13>a;a++)i=new CardVO,i.position=r.dir,r.ownCardList.push(i)}GlobalDefine.gameState=1,this.model.simpleDispatcher(MjModel.INIT_CARD_SUCC)},e.prototype.f_10010=function(t){t.shift(),TFacade.toggleUI(OperateUI.NAME,1).execute("operate",t),this.model.simpleDispatcher(MjModel.SING_APPEAR),this.model.signExist=!0},e.prototype.f_10011=function(t){if(this.checkSucc(t)){var e=new CardVO;e.position=t[2],e.decode(t[3]),this.model.whoPlayedCard=t[1],this.model.playingCard=e,this.model.gotCard=null;var i=this.model.getHeromsg()[t[1]];for(var n in i.ownCardList){var o=i.ownCardList[n];o.justGet=!1}if(i.roleId==GlobalDefine.herovo.roleId){var r,a=i.ownCardList;for(var n in a)if(r=a[n],r.id==e.id){a.splice(a.indexOf(r),1);break}}else i.ownCardList.length=13-i.duiCardList.length;i.roleId==GlobalDefine.herovo.roleId&&this.model.sortCardList(i.ownCardList),this.model.simpleDispatcher(MjModel.SOMEONE_PLAY_CARD,e)}},e.prototype.f_10012=function(t){var e=new CardVO;e.position=t[2],this.model.currentIndex=t[2],this.model.currentIndex=e.position,this.model.whoPlayedCard=-1,e.decode(t[3]),this.model.gotCard=e,e.justGet=!0,this.model.leftCard--,this.model.leftCard<0&&(this.model.leftCard=0),this.model.simpleDispatcher(MjModel.SOMEONE_GET_CARD,e)
},e.prototype.f_10013=function(t){if(this.checkSucc(t)&&(this.model.signExist=!1,7!=t[3])){this.model.currentIndex=t[2];var e,i,n=[],o=[];for(i in t[4])e=new CardVO,e.position=t[2],e.decode(t[4][i]),o.push(e),n.push(e.id);if(o.length>0)for(var r=this.model.playerData[this.model.whoPlayedCard],a=r.playedCardList,s=0;s<a.length;s++)if(e=a[s],e.id==this.model.playingCard.id){a.splice(s,1);break}var h=[],l=this.model.playerData[t[1]];if(t[1]==GlobalDefine.herovo.roleId){l.duiCardList=l.duiCardList.concat(o);for(i in l.ownCardList)e=l.ownCardList[i],-1!=n.indexOf(e.id)&&h.push(e);if(h.length>0)for(var d=0;d<h.length;d++){e=h[d];var c=l.ownCardList.indexOf(e);-1!=c&&l.ownCardList.splice(c,1)}}else l.duiCardList=l.duiCardList.concat(o),l.ownCardList.length=13-l.duiCardList.length;this.model.simpleDispatcher(MjModel.SING_OPERATE_SUCC,[l.dir,t[3],this.model.playingCard.position])}},e.prototype.f_10014=function(t){this.checkSucc(t)&&(Tnotice.instance.popUpTip(t[1]),this.model.simpleDispatcher(MjModel.JIESAN_ROOM_SUCC),TFacade.toggleUI(MainGameUI.NAME,0))},e.prototype.f_10015=function(t){this.checkSucc(t)&&(this.model.simpleDispatcher(MjModel.EXIT_ROOM_SUCC),TFacade.toggleUI(MainGameUI.NAME,0))},e.prototype.f_10016=function(t){t.shift();var e=t[0];this.model.settleData={};var i;for(var n in t[1]){var o=t[1][n];i=new SettleVO,i.decode(o),this.model.settleData[i.roleId]=i}i=this.model.settleData[GlobalDefine.herovo.roleId];var r;r=null==e?"ping":-1!=e.indexOf(i.roleId)?"win":"lose",TFacade.toggleUI(SettlementUI.NAME,1).execute("go",r)},e.prototype.f_10019=function(t){t.shift(),this.model.overData={};var e;for(var i in t){var n=t[i];e=new FinalSettleVO,e.index=n.shift(),e.roleid=n.shift(),e.name=n.shift(),e.score=n.shift(),e.decode(n),this.model.overData[e.roleid]=e}GlobalDefine.gameState=0,TFacade.toggleUI(GameOverUI.NAME,1).execute("go")},e.prototype.f_10017=function(t){if(this.checkSucc(t)){GlobalDefine.gameState=0;var e=this.model.playerData[t[1]];e.ready=!0,this.model.leftCard=0;var i;for(var n in this.model.playerData)i=this.model.playerData[n],i.ownCardList=[],i.duiCardList=[],i.playedCardList=[];this.model.simpleDispatcher(MjModel.GAME_START_AGAIN),this.model.simpleDispatcher(MjModel.SOMEONE_READY_GAME,e.dir)}},e.prototype.f_10018=function(t){if(this.checkSucc(t)){this.model.roomId=t[1],this.model.currentJu=t[2],this.model.jushu=t[3],this.model.currentIndex=t[5],t=t.slice(6);var e,i;for(i in t){var n=t[i],o=n[1],r=this.model.playerData[o];r||(r=o==GlobalDefine.herovo.roleId?GlobalDefine.herovo:new HeroVO,r.dir=n[0],r.roleId=o,r.name=n[2],r.ip=n[3],r.jifen=n[4],this.model.playerData[o]=r),r.ownCardList=[],r.duiCardList=[],r.playedCardList=[];var a=n[5];for(i in a){var s=a[i];e=new CardVO,e.position=r.dir,e.decode(s),e.used?r.duiCardList.push(e):r.ownCardList.push(e)}if(o!=GlobalDefine.herovo.roleId)for(var h=13-r.duiCardList.length,l=0;h>l;l++)e=new CardVO,e.position=r.dir,r.ownCardList.push(e);var d=n[6];for(i in d){var c=a[i];e=new CardVO,e.decode(c),r.playedCardList.push(e)}}GlobalDefine.gameState=1,TFacade.toggleUI(MainGameUI.NAME,1),this.model.simpleDispatcher(MjModel.ENTER_ROOM_SUCC),this.model.simpleDispatcher(MjModel.INIT_CARD_SUCC)}},e}(TDecoder);__reflect(GameDecoder.prototype,"GameDecoder");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?n(o):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var AniLabel=function(t){function e(e,i){void 0===i&&(i=0);var n=t.call(this)||this,o=RES.getRes(e);return n.font=o,n.letterSpacing=i,n}return __extends(e,t),e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.BitmapText);__reflect(AniLabel.prototype,"AniLabel");var AniTickTool=function(){function t(t,e,i,n,o){void 0===n&&(n=-1),void 0===o&&(o=-1),this.label=t,this.record=-1,this.extendLabel=e,e&&(this.extendLabel.visible=!1),this.conditionTime=i,this.centerX=n,this.centerY=o}return t.prototype.setOverTime=function(t){this.overTime=egret.getTimer()+t,this.label.visible=!0,this.extendLabel&&(this.extendLabel.visible=!1)},t.prototype.startTick=function(t){void 0===t&&(t=-1),-1!=t&&this.setOverTime(t),this.runing||(this.record=egret.setInterval(this.tick,this,1e3),this.runing=!0,this.tick())},t.prototype.tick=function(){var t,e=Math.ceil(this.overTime-egret.getTimer());null==this.extendLabel||e>this.conditionTime?(this.label.text=Math.round(e/1e3).toString(),t=this.label):(this.label.visible=!1,this.extendLabel.visible=!0,this.extendLabel.text=Math.floor(e/1e3).toString(),t=this.extendLabel),-1!=this.centerX&&(t.x=this.centerX-.5*t.width),0>e&&(this.stopTick(),this.extendLabel&&(this.extendLabel.text="0"),null!=this.backFun&&this.backFun.call(this.funThis))},t.prototype.stopTick=function(){this.runing&&(egret.clearInterval(this.record),this.runing=!1)},t}();__reflect(AniTickTool.prototype,"AniTickTool");var AsyImage=function(t){function e(e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=!0);var o=t.call(this)||this;return o._img=new eui.Image,o.addChild(o._img),e&&(o._img.width=e),i&&(o._img.height=i),o.isSave=n,o}return __extends(e,t),e.prototype.setUrl=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),t=t.toString(),this.backFun=e,this.backObj=i,-1==t.indexOf(".")&&(t=PathDefine.MJ_ICON+t+".png");var n=ResourceCache.instance.getImageFromCache(t);return n?(this._img.source=n,this.checkCircleMask(),void(null!=this.backFun&&this.backFun.call(this.backObj))):void RES.getResByUrl(t,this.getSucc,this,RES.ResourceItem.TYPE_IMAGE)},Object.defineProperty(e.prototype,"width",{get:function(){return this._img.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._img.height},enumerable:!0,configurable:!0}),e.prototype.setScale=function(t,e){this._img.scaleX=t,this._img.scaleY=e},e.prototype.getImg=function(){return this._img},e.prototype.clear=function(){this._img.source=null},e.prototype.fullAll=function(){this._img.left=0,this._img.right=0,this._img.top=0,this._img.bottom=0},e.prototype.getSucc=function(t,e){this.isSave&&ResourceCache.instance.addImageToCache(e,t),this._img.source=t,this.checkCircleMask(),null!=this.backFun&&this.backFun.call(this.backObj)},e.prototype.checkCircleMask=function(){if(this.circleMask){this.maskShape||(this.maskShape=new egret.Shape),this.maskShape.graphics.clear(),this.maskShape.graphics.beginFill(0,1),this.maskShape.graphics.lineStyle(1,0);var t=.5*this._img.width;this.maskShape.graphics.drawCircle(t,t,t),this.maskShape.graphics.endFill(),this.addChild(this.maskShape),this.mask=this.maskShape}},e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.DisplayObjectContainer);__reflect(AsyImage.prototype,"AsyImage");var AsySoundManager=function(){function t(){this.loader=new egret.URLLoader,this.loader.dataFormat=egret.URLLoaderDataFormat.SOUND,this.loader.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this)}return t.prototype.loadSound=function(t){var e=new QueenVO;e.data=t,this.last?(this.last.next=e,e.pre=this.last,this.last=e):this.first=this.last=e,this.startLoad()},t.prototype.startLoad=function(){this.loader.load(new egret.URLRequest(PathDefine.MJ_SOUND+this.first.data+".mp3"))},t.prototype.onLoadComplete=function(t){var e=this.loader.data,i=e.play(0,1);return i.volume=GlobalDefine.playSoundVolume,this.first=this.first.next,this.first?void this.startLoad():void(this.first=this.last=null)},t}();AsySoundManager.instance=new AsySoundManager,__reflect(AsySoundManager.prototype,"AsySoundManager");var BagCheckLabel=function(t){function e(e,i){void 0===i&&(i="left");var n=t.call(this)||this;return e?n.label=e:(n.label=new eui.Label,n.label.size=16,n.label.fontFamily="微软雅黑",n.label.textAlign=i),n.label.x=0,n.label.y=0,n.addChild(n.label),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.toStageHandler,n),n.addEventListener(egret.Event.REMOVED_FROM_STAGE,n.leaveStageHandler,n),n}return __extends(e,t),e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e.prototype.toStageHandler=function(t){},e.prototype.leaveStageHandler=function(t){},e.prototype.update=function(){!this.id},e.prototype.setData=function(t,e){this.id=t,this.aim=e,this.update()},e}(egret.DisplayObjectContainer);__reflect(BagCheckLabel.prototype,"BagCheckLabel");var LayerManage=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.initLayer=function(t){this.world2D=new egret.Sprite,t.addChild(this.world2D),this.effectLayer=new egret.Sprite,this.world2D.addChild(this.effectLayer),this.panelLayer=new egret.Sprite,t.addChild(this.panelLayer),this.panelChildLayer1=new egret.Sprite,this.panelLayer.addChild(this.panelChildLayer1),this.panelChildLayer2=new egret.Sprite,this.panelLayer.addChild(this.panelChildLayer2),this.tipLayer=new egret.Sprite,t.addChild(this.tipLayer)},t.prototype.playGonggao=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=null),this.notice=new Notice,this.tipLayer.addChild(this.notice),i){var n=i.localToGlobal(0,0);this.notice.x=n.x,this.notice.y=n.y+5,this.notice.addChild(i),i.x=0,i.y=0,this.notice.mask=i}else this.notice.x=0,this.notice.y=3;this.notice.play(t,e,i)},t.prototype.hideGonggao=function(){DisplayUtil.removeDisplay(this.notice)},t.prototype.showPanelMask=function(t){this.panelBgMask||(this.panelBgMask=new egret.Sprite,this.panelBgMask.touchEnabled=!0,this.panelBgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.maskClickHandler,this)),this.panelBgMask.graphics.clear(),this.panelBgMask.graphics.beginFill(0,.7),this.panelBgMask.graphics.drawRect(0,0,GlobalDefine.stageW,GlobalDefine.stageH),this.panelBgMask.graphics.endFill(),this.panelBgMask.stage?this.panelChildLayer2.addChildAt(this.panelBgMask,t-1):this.panelChildLayer2.addChildAt(this.panelBgMask,t)},t.prototype.hidePanelMask=function(){this.panelBgMask&&(this.panelBgMask.graphics.clear(),DisplayUtil.removeDisplay(this.panelBgMask))},t.prototype.maskClickHandler=function(t){TFacade.facade.simpleDispatcher(ConstDefine.EMPTY_MASK_CLICK)},t.prototype.getUpDown=function(){return this._updown||(this._updown=new UpdownUtil("outmjtile_sign")),this._updown},t}();__reflect(LayerManage.prototype,"LayerManage");var ColorDefine=function(){function t(){}return t.getRareIcon=function(t){return this.rareYinshe[t]},t.getColorByQuality=function(t){return this.rareColr[t]},t}();ColorDefine.rareYinshe={99:"weigoumai",0:"rare_hui",1:"rare_bai",2:"rare_lv",3:"rare_lan",4:"rare_zi",5:"rare_cheng",6:"rare_hong"},ColorDefine.rareColr={0:12303291,1:16777215,2:65280,3:2535413,4:11553279,5:16747008,6:16711680},ColorDefine.rareHtmlColor={0:"#bbbbbb",1:"#FFFFFF",2:"#00FF00",3:"#26aff5",4:"#b049ff",5:"#ff8a00",6:"#FF0000"},__reflect(ColorDefine.prototype,"ColorDefine");var CommonTool=function(){function t(){}return t.getPercentNum=function(t,e){void 0===e&&(e=0);var i=Math.pow(10,e),n=t*i*100;return n=Math.round(n),n/i+"%"},t.getKeepNum=function(t,e){void 0===e&&(e=0);var i=Math.pow(10,e),n=t*i;return n=Math.round(n),n/i},t.getMoneyShow=function(t){var e=Math.floor(t/1e4);return e>0?e+"万":t.toString()},t.addStroke=function(t,e,i){void 0===e&&(e=2),void 0===i&&(i=0),t.stroke=e,t.strokeColor=i},t.setColorText=function(t,e){t.textColor=ColorDefine.rareColr[e.quality],t.text=e.name},t.getColorTextByRare=function(t,e){var i=ColorDefine.rareHtmlColor[e];return"<font color="+i+">"+t+"</font>"},t.getColorText=function(t,e){return"<font color="+e+">"+t+"</font>"},t.replaceStr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.shift();for(var n in t){var o=t[n];i=i.replace(/\{\d+\}/,o)}return i},t.replaceStrBackColor=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e.shift();for(var o in e){var r=e[o];n=n.replace(/\{\d+\}/,r)}return t.htmlP.parser(n)},t.skipToUI=function(t){if(t){var e=t.split(":");1==e.length?TFacade.toggleUI(e[0]):TFacade.toggleUI(e[0]).execute(e[1])}},t}();CommonTool.htmlP=new egret.HtmlTextParser,CommonTool.grayFilter=new egret.ColorMatrixFilter([.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0]),__reflect(CommonTool.prototype,"CommonTool");var ConstDefine=function(){function t(){}return t.getFlyNumDes=function(t){switch(t){case 0:return"伤害";case 1:return"暴击";case 2:return"生命";case 3:return"反弹伤害";case 4:return"闪避"}},t}();ConstDefine.CHANGE_MAP_SUCC="CHANGE_MAP_SUCC",ConstDefine.ROLE_INFO_CHANGE="ROLE_INFO_CHANGE",ConstDefine.EMPTY_MASK_CLICK="EMPTY_MASK_CLICK",ConstDefine.SERVER_CONNECT_SUCC="SERVER_CONNECT_SUCC",ConstDefine.CURRENCY_GOLD=0,ConstDefine.CURRENCY_MONEY=1,ConstDefine.CURRENCY_ENERGY=2,ConstDefine.CURRENCY_PRESTIGE=3,ConstDefine.CURRENCY_COURAGE=4,ConstDefine.CURRENCY_ZHANGONG=5,ConstDefine.CURRENCY_MELTING=6,ConstDefine.SLOT_EQUIP=0,ConstDefine.SLOT_CLOTH=5,ConstDefine.type_floor=0,ConstDefine.type_shadow=1,ConstDefine.type_body=2,ConstDefine.type_hair=3,ConstDefine.type_weapon=4,ConstDefine.type_wing=5,ConstDefine.type_top=6,ConstDefine.open_ronglian="ronglian",ConstDefine.open_qianghua="qianghua_zb",ConstDefine.open_skillUp="jineng",ConstDefine.open_shengxing="shengxing_zb",ConstDefine.open_yaoqianshu="tree",ConstDefine.open_wingUpstar="chibang",ConstDefine.open_mountUpstar="zuoqi",ConstDefine.open_qiandao="qiandao",ConstDefine.open_ziyuanBen="fb_zy",ConstDefine.open_ronglianDuihuan="shop_ronglian",ConstDefine.open_juqingBen="fb_jq",ConstDefine.open_jinjie="jinjie",ConstDefine.open_task="quest",ConstDefine.open_xunbao="xunbao",__reflect(ConstDefine.prototype,"ConstDefine");var CostItemUtil=function(t){function e(e,i,n,o){void 0===e&&(e=35),void 0===i&&(i=20),void 0===n&&(n=0),void 0===o&&(o=0);var r=t.call(this)||this;return r.size=e,r.gslot=new NoRareSlot(e,e),r.addChild(r.gslot),r.label_value=new eui.Label,r.addChild(r.label_value),r.label_value.size=i,r.label_value.x=e+2,n&&(r.label_value.textColor=n),o&&CommonTool.addStroke(r.label_value,1,o),r}return __extends(e,t),Object.defineProperty(e.prototype,"data",{set:function(t){this.gslot.data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(t){this.label_value.text=t.toString(),this.label_value.y=this.size-this.label_value.height-5},enumerable:!0,configurable:!0}),e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.DisplayObjectContainer);__reflect(CostItemUtil.prototype,"CostItemUtil");var CostUtil=function(t){function e(e,i,n,o,r){void 0===e&&(e=0),void 0===i&&(i=25),void 0===n&&(n=20),void 0===o&&(o=0),void 0===r&&(r=0);var a=t.call(this)||this;return a.size=i,a.image_icon=new eui.Image,a.addChild(a.image_icon),a.image_icon.width=a.image_icon.height=a.size,a.label_value=new eui.Label,a.addChild(a.label_value),a.label_value.size=n,a.label_value.x=i+2,o&&(a.label_value.textColor=o),r&&CommonTool.addStroke(a.label_value,1,r),a}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(t){this.label_value.text=t.toString(),this.label_value.y=this.size-this.label_value.height},enumerable:!0,configurable:!0}),e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.DisplayObjectContainer);__reflect(CostUtil.prototype,"CostUtil");var CRSelectBox=function(t){function e(e){var i=t.call(this)||this,n=new eui.Image;i.addChild(n),n.source=SheetManage.getTextureFromSheet("create_noselect","mj_createRoom_json"),i.gou=new eui.Image,i.addChild(i.gou),i.gou.source=SheetManage.getTextureFromSheet("create_select","mj_createRoom_json"),i.gou.visible=!1;var o=new eui.Label;return o.size=26,o.textColor=9068627,i.addChild(o),o.fontFamily="Microsoft YaHei",o.text=e,o.x=42,o.y=30-o.textHeight,i}return __extends(e,t),Object.defineProperty(e.prototype,"select",{get:function(){return this._select},set:function(t){this._select=t,this.gou.visible=t},enumerable:!0,configurable:!0}),e}(egret.Sprite);CRSelectBox.CHANGE="crbox_change",__reflect(CRSelectBox.prototype,"CRSelectBox");var CurEvent=function(t){function e(e,i,n,o,r){void 0===o&&(o=!1),void 0===r&&(r=!1);var a=t.call(this,e,o,r)||this;return a.item=i,a.data=n,a}return __extends(e,t),e}(egret.Event);__reflect(CurEvent.prototype,"CurEvent");var CurrencyUnit=function(){function t(){this.currencyList={},this.currencyIconObj={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.updateCurrency=function(t,e){this.currencyList[t]=e},t.prototype.getCurrency=function(t){var e=this.currencyList[t];return e||(e=0),e},t.prototype.getGold=function(){var t=this.currencyList[ConstDefine.CURRENCY_GOLD];return t||(t=0),t},t.prototype.getMoney=function(){var t=this.currencyList[ConstDefine.CURRENCY_MONEY];return t||(t=0),t},t}();__reflect(CurrencyUnit.prototype,"CurrencyUnit");var DisplayUtil=function(){function t(){}return t.removeDisplay=function(t,e){void 0===e&&(e=null),t&&(e||(e=t.parent),e&&e.removeChild(t))},t}();__reflect(DisplayUtil.prototype,"DisplayUtil");var EffectItem=function(t){function e(e,i){void 0===e&&(e=!1),void 0===i&&(i="main");var n=t.call(this)||this;return n.playOnce=e,n.mcname=i,n}return __extends(e,t),Object.defineProperty(e.prototype,"isSave",{get:function(){return this._isSave},set:function(t){this._isSave=t},enumerable:!0,configurable:!0}),e.prototype.setUrl=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=PathDefine.EFFECT),this.isSave=i,this.pngFlag=this.jsonFlag=!1,e||(e=t),t+=".png",e+=".json",this.path=n+t,this.mc=ResourceCache.instance.getMcFromCache(this.path),this.mc?(this.addChild(this.mc),this.mc.gotoAndStop(1),this.playOnce?(this.mc.play(1),this.mc.addEventListener(egret.MovieClipEvent.COMPLETE,this.playComplete,this)):this.mc.play(-1)):(RES.getResByUrl(n+t,this.pngOver,this,RES.ResourceItem.TYPE_IMAGE),RES.getResByUrl(n+e,this.jsonOver,this,RES.ResourceItem.TYPE_JSON)),this.touchEnabled=!1,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.goAwayFromStage,this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addToStage,this)},e.prototype.pngOver=function(t){this.pngData=t,this.pngFlag=!0,this.doubleOver()},e.prototype.jsonOver=function(t){this.jsonData=t,this.jsonFlag=!0,this.doubleOver()},e.prototype.doubleOver=function(){if(this.jsonFlag&&this.pngFlag){this.clear();var t=new egret.MovieClipDataFactory(this.jsonData,this.pngData);this.mc=new egret.MovieClip(t.generateMovieClipData(this.mcname)),this.addChild(this.mc),this.playOnce?(this.mc.play(1),this.mc.addEventListener(egret.MovieClipEvent.COMPLETE,this.playComplete,this)):this.mc.play(-1),this.isSave&&ResourceCache.instance.addMcToCache(this.path,this.mc)}},e.prototype.clear=function(){this.mc&&(this.mc.stop(),DisplayUtil.removeDisplay(this.mc),this.mc=null)},e.prototype.playComplete=function(t){this.mc&&(this.mc.removeEventListener(egret.MovieClipEvent.COMPLETE,this.playComplete,this),DisplayUtil.removeDisplay(this.mc),DisplayUtil.removeDisplay(this))},e.prototype.setScale=function(t,e){this.scaleX=t,this.scaleY=e},e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e.prototype.goAwayFromStage=function(t){this.mc&&(this.mc.stop(),DisplayUtil.removeDisplay(this.mc))},e.prototype.addToStage=function(t){this.mc&&(this.playOnce||this.mc.play(-1),this.addChild(this.mc))},e}(egret.DisplayObjectContainer);__reflect(EffectItem.prototype,"EffectItem");var EquipSlot=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.doData=function(){var t=this.data;this.label=t.name},Object.defineProperty(e.prototype,"defaultSkin",{set:function(t){this._defaultSkin.source=t},enumerable:!0,configurable:!0}),e}(GoodsSlot);__reflect(EquipSlot.prototype,"EquipSlot");var EventControl=function(){function t(){}return t.addEventListener=function(t,e,i){this.dispatcher.addEventListener(t,e,i)},t.removeEventListener=function(t,e,i){this.dispatcher.removeEventListener(t,e,i)},t}();EventControl.dispatcher=new egret.EventDispatcher,EventControl.BODY_LOADED="bodyimageload",EventControl.WEAPON_LOADED="weapon_loaded",EventControl.WING_LOADED="wing_loaded",EventControl.HEAD_LOADED="head_loaded",EventControl.SHADOW_LOADED="shadow_loaded",EventControl.Map_Image_Loaded="mapimageloaded",EventControl.Small_MapImg_Loaded="smallmapimgloaded",__reflect(EventControl.prototype,"EventControl");var GlobalDefine=function(){function t(){}return t.charge=function(){},Object.defineProperty(t,"stageW",{get:function(){return this.stage.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stageH",{get:function(){return this.stage.stageHeight},enumerable:!0,configurable:!0}),t}();GlobalDefine.WEB_SOCKE_COLLECTED=!1,GlobalDefine.tickTemp=!0,GlobalDefine.serverInfo=new ServerInfoVO,GlobalDefine.herovo=new HeroVO,GlobalDefine.playSoundVolume=1,GlobalDefine.gameState=0,__reflect(GlobalDefine.prototype,"GlobalDefine");var TSocket=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.socket=new egret.WebSocket,this.socket.type=egret.WebSocket.TYPE_BINARY,this.socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.socket.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.socket.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketError,this),this.socket.connect("192.168.1.134",9999)},e.prototype.tryConnect=function(t){t[0].socket.connect("192.168.1.134",9999)},e.prototype.sendData=function(t,e){void 0===e&&(e=null),e instanceof Array||(e=[e]);var i,n=new egret.ByteArray,o=e?JSON.stringify(e):"";i=""==o?'{"id":'+t+"}":'{"id":'+t+',"data":'+o+"}";var r=new egret.ByteArray;r.writeUTFBytes(i),n.writeInt(4165656),n.writeInt(r.length),n.writeUTFBytes(i),n.position=0,this.socket.writeBytes(n),this.socket.flush()},e.prototype.onSocketOpen=function(){this.trace("WebSocketOpen"),Tnotice.instance.popUpTip("连接成功"),GlobalDefine.WEB_SOCKE_COLLECTED=!0,TFacade.facade.simpleDispatcher(ConstDefine.SERVER_CONNECT_SUCC),clearInterval(this.tryIndex),GlobalDefine.wxCode&&SendOperate.instance.requestLogin()},e.prototype.sentTest=function(){},e.prototype.onSocketClose=function(){this.trace("WebSocketClose"),Tnotice.instance.popUpTip("服务器断开连接"),GlobalDefine.WEB_SOCKE_COLLECTED=!1,clearInterval(this.tryIndex),this.tryIndex=setInterval(this.tryConnect,1e3,[this])},e.prototype.onSocketError=function(){this.trace("WebSocketError")},e.prototype.onReceiveMessage=function(t){var e=new egret.ByteArray;this.socket.readBytes(e),e.readInt(),e.readInt();var i,n=e.readInt(),o=e.readUTFBytes(e.bytesAvailable),r=JSON.parse(o),a=TFacade.facade.getProtocolFun(n);1==r.result?(i=r.data,i.unshift(1)):i=[0,r.code],a[0].call(a[1],i)},e.prototype.simulateReceiveMsg=function(t,e){var i=TFacade.facade.getProtocolFun(t);i[0].call(i[1],e)},e.prototype.trace=function(t){console.log(t)},e}(egret.EventDispatcher);__reflect(TSocket.prototype,"TSocket");var HasNameSlot=function(t){function e(){var e=t.call(this)||this;return e.tipable=!0,e}return __extends(e,t),e.prototype.doData=function(){var t=this.data;this.label=t.name},e}(GoodsSlot);__reflect(HasNameSlot.prototype,"HasNameSlot");var HPagelist=function(t){function e(e,i,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=1);var a=t.call(this)||this;return a.layoutDirX=1,a.layoutDirY=1,a.gap=0,a.touchEnabled=!0,a.cls=e,a.rwidth=i,a.rheight=n,a.isHor=o,a.horNum=r,a}return __extends(e,t),e.prototype.displayList=function(t){this.len=t?t.length:0;var e;for(var i in this.dataList)e=this.dataList[i],e.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.renderClickHandler,this),e.clear(),DisplayUtil.removeDisplay(e),CachePool.getInstance().reBack(e);this.dataList?this.dataList.length=0:this.dataList=[];for(var n=0;n<this.len;n++){var o=t[n];e=CachePool.getInstance().getObject(this.cls),e.data=o,this.arrange(e,n),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.renderClickHandler,this),this.dataList.push(e)}},e.prototype.getAllItem=function(){return this.dataList},e.prototype.refreshAll=function(){var t;for(var e in this.dataList)t=this.dataList[e],t.refreshRender()},e.prototype.refreshOther=function(){var t;for(var e in this.dataList)t=this.dataList[e],t.refreshOther()},e.prototype.renderClickHandler=function(t){var e=t.currentTarget;this.selectItem(e)},e.prototype.selectItem=function(t){this.currentItem=t,t.choosed=!0,this.simpleEvent(t);var e;for(var i in this.dataList)if(e=this.dataList[i],e!=t&&e.choosed){e.choosed=!1;break}},e.prototype.simpleEvent=function(t){this.dispatchEvent(new CurEvent(e.RENDER_CHANGE,t,t.data))},e.prototype.selectAt=function(t){var e=this.dataList[t];this.selectItem(e)},e.prototype.arrange=function(t,e){this.downUp?this.addChildAt(t,0):this.addChild(t);var i=Math.floor(e%this.horNum),n=Math.floor(e/this.horNum);this.isHor?(this.rightLeft&&(i=this.horNum-i),t.x=i*(this.rwidth+this.gap)*this.layoutDirX,t.y=n*(this.rheight+this.gap)*this.layoutDirY,-1==this.layoutDirY&&this.setChildIndex(t,i)):(t.x=n*(this.rwidth+this.gap)*this.layoutDirX,this.downUp&&(i=this.horNum-i),t.y=i*(this.rheight+this.gap)*this.layoutDirY)},e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.Sprite);HPagelist.RENDER_CHANGE="pagelist_render_change",__reflect(HPagelist.prototype,"HPagelist");var IconLineRender=function(t){function e(){return t.call(this,!0)||this}return __extends(e,t),e.prototype.showIcon=function(t){},e}(LineRender);__reflect(IconLineRender.prototype,"IconLineRender");var ItemVoUnit=function(){function t(){}return t}();__reflect(ItemVoUnit.prototype,"ItemVoUnit");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.chageSkin=function(t){this._loadingRun=new egret.Bitmap(t),this.addChild(this._loadingRun),this._loadingRun.anchorOffsetX=.5*this._loadingRun.width,this._loadingRun.anchorOffsetY=.5*this._loadingRun.height,this._loadingRun.x=.5*GlobalDefine.stage.stageWidth,this._loadingRun.y=.5*GlobalDefine.stage.stageHeight,this._txProgress=new egret.TextField,this._txProgress.textAlign=egret.HorizontalAlign.CENTER,this._txProgress.verticalAlign=egret.VerticalAlign.MIDDLE,this._txProgress.x=.5*GlobalDefine.stage.stageWidth-100,this._txProgress.width=200,this._txProgress.y=.5*GlobalDefine.stage.stageHeight-100,this._txProgress.height=200,this._txProgress.size=16,this.addChild(this._txProgress),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeToStage,this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addtoStageHandler,this)},e.prototype.addtoStageHandler=function(t){this.addEventListener(egret.Event.ENTER_FRAME,this.runLoading,this)},e.prototype.removeToStage=function(t){this.hasEventListener(egret.Event.ENTER_FRAME)&&this.removeEventListener(egret.Event.ENTER_FRAME,this.runLoading,this)},e.prototype.runLoading=function(t){this._loadingRun.rotation+=3},e.prototype.createView=function(){},e.prototype.setProgress=function(t,e){this._txProgress&&(this._txProgress.text=Math.round(t/e*100)+"%")},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var LineRender2=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this,"")||this;return i.label_name=new eui.Label,i.label_name.size=16,i.label_name.fontFamily="微软雅黑",i.addChild(i.label_name),i.label_name.x=0,i.label_name.y=6,i.label_name.textColor=11960691,e&&(i.icon=new AsyImage(30,30),i.addChild(i.icon),i.label_name.x=32),i.label_value=new eui.Label,i.label_value.size=16,i.label_name.fontFamily="微软雅黑",i.label_value.textColor=11960691,i.addChild(i.label_value),i.label_value.y=6,i}return __extends(e,t),e.prototype.dataChanged=function(){var t=this.data;this.label_name.text=t[1]+":",this.label_value.text=t[3],this.label_value.x=this.label_name.x+this.label_name.width+4},e}(RenderBase);__reflect(LineRender2.prototype,"LineRender2");var LoaderManage=function(){function t(){this.loadUI=new LoadingUI,RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this)}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.startLoaderGroup=function(t,e,i){if(RES.isGroupLoaded(t)){this.removeListener(e,i);var n={groupName:t};e.call(i,n)}else LayerManage.instance.tipLayer.addChild(this.loadUI),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,e,i),RES.loadGroup(t)},t.prototype.removeListener=function(t,e){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t,e)},t.prototype.removeLoading=function(){DisplayUtil.removeDisplay(this.loadUI)},t.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load")},t.prototype.onResourceProgress=function(t){this.loadUI&&this.loadUI.setProgress(t.itemsLoaded,t.itemsTotal)},t}();__reflect(LoaderManage.prototype,"LoaderManage");var MultiCountSelectUtil=function(){function t(t,e,i,n,o){this.min=0,this.max=0,this.btn_add=t,this.btn_addTen=e,this.btn_cut=i,this.btn_cutTen=n,this.label_count=o,this.opCount=1,this.btn_add.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.btn_addTen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.btn_cut.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.btn_cutTen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this)}return t.prototype.setMinMax=function(t,e){this.min=t,this.max=e,this.opCount=1},t.prototype.clickHandler=function(t){switch(t.currentTarget){case this.btn_add:this.opCount++;break;case this.btn_addTen:this.opCount+=10;break;case this.btn_cut:this.opCount--;break;case this.btn_cutTen:this.opCount-=10}},Object.defineProperty(t.prototype,"opCount",{get:function(){return this._opCount},set:function(t){t=Math.max(t,this.min),t=Math.min(t,this.max),this._opCount=t,this.label_count.text=this._opCount.toString()},enumerable:!0,configurable:!0}),t}();__reflect(MultiCountSelectUtil.prototype,"MultiCountSelectUtil");var NoRareSlot=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.tipable=!0,n}return __extends(e,t),Object.defineProperty(e.prototype,"rarelevel",{set:function(t){},enumerable:!0,configurable:!0}),e}(GoodsSlot);__reflect(NoRareSlot.prototype,"NoRareSlot");var OperateBar=function(){function t(t,e,i,n){this.headOffX=0,this.bar=t,this.rect=new egret.Rectangle(0,0,0,t.height),this.len=this.bar.width,this.head=e,this.backFun=i,this.thisObj=n,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this)}return t.prototype.touchBegin=function(t){GlobalDefine.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),GlobalDefine.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},t.prototype.touchEnd=function(t){GlobalDefine.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),GlobalDefine.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},t.prototype.touchMove=function(t){if(this.parent){var e=this.head,i=this.parent.globalToLocal(t.stageX,t.stageY).x;e.x=i-this.headOffX,e.x+this.headOffX<this.bar.x&&(e.x=this.bar.x-this.headOffX),e.x+this.headOffX>this.bar.x+this.len&&(e.x=this.bar.x+this.len-this.headOffX);var n=(this.head.x+this.headOffX-this.bar.x)/this.len;n=Math.abs(n),this.setData(n),null!=this.backFun&&this.backFun.call(this.thisObj,CommonTool.getKeepNum(n,1))}},t.prototype.setData=function(t){this.rect.width=Math.floor(t*this.len),this.bar.scrollRect=this.rect,1==t&&(this.head.x=this.bar.x+this.len-this.headOffX)},t}();__reflect(OperateBar.prototype,"OperateBar");
var OperateEffectItem=function(t){function e(){var e=t.call(this)||this;return e.econ=new egret.Sprite,e.addChild(e.econ),e.img_eff=new eui.Image,e.econ.addChild(e.img_eff),e}return __extends(e,t),e.prototype.comOk=function(t){},e.prototype.playEffect=function(t){var e=TFacade.getProxy(MjModel.NAME);this.img_eff.addEventListener(egret.Event.COMPLETE,this.comOk,this),this.img_eff.source=e.getOperateTexture(t),this.img_eff.x=-41.5,this.img_eff.y=-39.5,this.econ.alpha=0,this.econ.scaleX=2,this.econ.scaleY=2,this.tw=egret.Tween.get(this.econ),this.tw.to({alpha:1,scaleX:1,scaleY:1},600).wait(500).to({alpha:0,scaleX:1.2,scaleY:1.2},400).call(this.playEnd,this)},e.prototype.playEnd=function(){this.img_eff.source=null,DisplayUtil.removeDisplay(this)},e.prototype.updateXY=function(t,e){this.x=t,this.y=e},e}(egret.Sprite);__reflect(OperateEffectItem.prototype,"OperateEffectItem");var PageList=function(){function t(t,e){this.ac=new eui.ArrayCollection,this.list=t,this.list.itemRenderer=e}return t.prototype.addItem=function(t){this.ac.addItem(t),this.list.dataProvider=this.ac},t.prototype.displayList=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.ac.source=t,this.list.dataProvider=this.ac,e>0&&(this.centerLay=e,this.offset=i,this.outIndex=egret.setTimeout(this.layout,this,100))},t.prototype.layout=function(){egret.clearTimeout(this.outIndex),this.list.x=this.centerLay-.5*this.list.contentWidth+this.offset},t.prototype.setRenderObj=function(t){this.renderObj={};for(var e,i=0;i<this.list.numElements;i++)if(e=this.list.getElementAt(i)){var n=e.data;this.renderObj[n[t]]=e}},t.prototype.updateChange=function(){this.list.dataProvider=this.ac},t.prototype.singleRefresh=function(t){var e=this.renderObj[t];e&&e.refreshRender()},t.prototype.refreshAll=function(){for(var t,e=0;e<this.list.numElements;e++)t=this.list.getElementAt(e),t&&t.refreshRender()},t}();__reflect(PageList.prototype,"PageList");var PathDefine=function(){function t(){}return t}();PathDefine.EFFECT="resource/Effect/",PathDefine.UI_IMAGE="resource/UIImage/",PathDefine.MJ_ICON="resource/mjIcon/",PathDefine.MJ_SOUND="resource/sound/",__reflect(PathDefine.prototype,"PathDefine");var ProgressBar=function(){function t(t,e){void 0===e&&(e=null),this.bar=t,this.label_v=e,this.rect=new egret.Rectangle(0,0,0,t.height),this.len=this.bar.width}return t.prototype.setData=function(t,e){this.label_v&&(this.label_v.text=t+"/"+e),this.rect.width=Math.floor(t/e*this.len),this.bar.scrollRect=this.rect},t.prototype.getRectWidth=function(){return this.rect.width},t}();__reflect(ProgressBar.prototype,"ProgressBar");var RequestLimit=function(){function t(){this.record={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.check=function(t,e){return void 0===e&&(e=500),this.record[t]?egret.getTimer()-this.record[t]>=e?(this.record[t]=egret.getTimer(),!0):!1:(this.record[t]=egret.getTimer(),!0)},t}();__reflect(RequestLimit.prototype,"RequestLimit");var ResourceCache=function(){function t(){this.imageCache={},this.mcCache={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.addImageToCache=function(t,e){this.imageCache[t]=e},t.prototype.getImageFromCache=function(t){return this.imageCache[t]},t.prototype.addMcToCache=function(t,e){this.mcCache[t]=e},t.prototype.getMcFromCache=function(t){return this.mcCache[t]},t}();__reflect(ResourceCache.prototype,"ResourceCache");var ScrollBar=function(t){function e(e){var i=t.call(this)||this;return i.viewport=e,i.x=e.x,i.y=e.y,i.width=e.width+5,i.height=e.height,i}return __extends(e,t),e}(eui.Scroller);__reflect(ScrollBar.prototype,"ScrollBar");var SelectBox=function(t){function e(e,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=null);var r=t.call(this)||this;return e.touchEnabled=!0,r.gou=i,r.gou.touchEnabled=!1,r._select=n,i.visible=n,r.data=o,e.addEventListener(egret.TouchEvent.TOUCH_TAP,r.touchHandler,r),r}return __extends(e,t),e.prototype.touchHandler=function(t){this.select=!this._select},Object.defineProperty(e.prototype,"select",{get:function(){return this._select},set:function(t){this._select=t,this.gou.visible=t,this.dispatchEvent(new egret.Event(e.CHANGE))},enumerable:!0,configurable:!0}),e}(egret.EventDispatcher);SelectBox.CHANGE="selectbox_change",__reflect(SelectBox.prototype,"SelectBox");var SheetManage=function(){function t(){}return t.createBitmapFromSheet=function(t,e){var i=RES.getRes(e),n=i.getTexture(t),o=new egret.Bitmap;return o.texture=n,o},t.getTextureFromSheet=function(t,e){var i=RES.getRes(e),n=i.getTexture(t);return n},t.getTextureFromCenter=function(e){return t.getTextureFromSheet(e,"mj_center_json")},t.getTextureFromOperate=function(e){return t.getTextureFromSheet(e,"mj_operate_json")},t}();__reflect(SheetManage.prototype,"SheetManage");var State=function(t){function e(){var e=t.call(this)||this;return e.obj={},e}return __extends(e,t),e.prototype.add=function(t,e){this.obj[t]=e},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t;var e=this.obj[t];if(e){this.switchDisplay(!0,e);for(var i in this.obj)i!=t&&(e=this.obj[i],this.switchDisplay(!1,e))}},enumerable:!0,configurable:!0}),e.prototype.switchDisplay=function(t,e){var i;for(var n in e)i=e[n],t&&null==i.stage?this.addChild(i):!t&&i.parent&&DisplayUtil.removeDisplay(i,i.parent)},e}(egret.DisplayObjectContainer);__reflect(State.prototype,"State");var StrokeLabel=function(){function t(t){this.label=t,this.label.stroke=2,this.label.strokeColor=0}return Object.defineProperty(t.prototype,"text",{set:function(t){this.label.text=t},enumerable:!0,configurable:!0}),t}();__reflect(StrokeLabel.prototype,"StrokeLabel");var TabItem=function(){function t(t,e){throw void 0===e&&(e=null),new Error("并没有用到的类")}return t.prototype.addIcon=function(t,e){void 0===e&&(e=null),this.tex1=t,this.tex2=e,this.bm.texture=t,this.bm.x=this.tb.width-this.bm.width>>1,this.bm.y=this.tb.height-this.bm.height>>1},Object.defineProperty(t.prototype,"select",{get:function(){return this.tb.selected},set:function(t){this.tb.selected=t,this.tex2&&(this.bm.texture=t?this.tex2:this.tex1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(t){this.tb.icon=t},enumerable:!0,configurable:!0}),t}();__reflect(TabItem.prototype,"TabItem");var TabItemList=function(t){function e(){var e=t.call(this)||this;return e.tabArr=[],e}return __extends(e,t),e.prototype.addItem=function(t){this.tabArr.push(t),this.addChild(t.skin),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchHandler,this)},e.prototype.setSelectedIcon=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this._selectedIcon=new eui.Image,this._selectedIcon.source=t,this.addChild(this._selectedIcon),this.setChildIndex(this._selectedIcon,0),this._offx=e,this._offy=i},e.prototype.touchHandler=function(t){var i=t.target;if(i){var n;for(var o in this.tabArr){var r=this.tabArr[o];r.skin!=i?r.selected=!1:n=r}this.updateSelectIcon(n),n.selected=!0,TFacade.facade.simpleDispatcher(e.TAB_CHANGE,n)}},Object.defineProperty(e.prototype,"selectItem",{get:function(){for(var t in this.tabArr){var e=this.tabArr[t];if(e.selected)return e}return null},set:function(t){t.selected=!0;for(var i in this.tabArr){var n=this.tabArr[i];n!=t&&(n.selected=!1)}this.updateSelectIcon(t),TFacade.facade.simpleDispatcher(e.TAB_CHANGE,t)},enumerable:!0,configurable:!0}),e.prototype.updateSelectIcon=function(t){this._selectedIcon&&(this._selectedIcon.x=t.skin.x+this._offx,this._selectedIcon.y=t.skin.y+this._offy)},e.prototype.selectAt=function(t){var e=this.tabArr[t];this.selectItem=e},e}(egret.Sprite);TabItemList.TAB_CHANGE="TABLIST_TAB_CHANGE",__reflect(TabItemList.prototype,"TabItemList");var TapUnit=function(){function t(){}return t.prototype.bind=function(t){this.dis=t,this.w=t.width,this.h=t.height,t.touchEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.bigerHandler,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.backHandler,this)},t.prototype.bigerHandler=function(t){this.dis.anchorOffsetX=6,this.dis.anchorOffsetY=6,this.dis.width=this.w+12,this.dis.height=this.h+12},t.prototype.backHandler=function(t){this.dis.anchorOffsetX=0,this.dis.anchorOffsetY=0,this.dis.width=this.w,this.dis.height=this.h},t}();__reflect(TapUnit.prototype,"TapUnit");var TButton=function(){function t(t,e,i){void 0===e&&(e=""),void 0===i&&(i=!1),this.b_offX=0,this.b_offY=0,this.skin=t,this.name=e,this.skin.name=e,this.isToggleBtn=i,this.diBm=new egret.Bitmap,this.skin.addChildAt(this.diBm,0),this.diBm.width=t.width,this.diBm.height=t.height}return t.prototype.setBadgeOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.b_offX=t,this.b_offY=e},Object.defineProperty(t.prototype,"badage",{set:function(t){this._badage?this._badage.visible=t:t&&(this._badage=new eui.Image,this._badage.x=this.skin.width+this.b_offX-13,this._badage.y=this.b_offY-5,this.skin.addChild(this._badage))},enumerable:!0,configurable:!0}),t.prototype.addBgIcon=function(t,e){void 0===e&&(e=null),this.d1=t,this.d2=e,this.diBm.texture=t,this.isToggleBtn&&!e&&(this.d2=this.d1)},Object.defineProperty(t.prototype,"texture",{set:function(t){this.diBm.texture=t},enumerable:!0,configurable:!0}),t.prototype.addTextIcon=function(t,e){void 0===e&&(e=null),this.ziBm||(this.ziBm=new egret.Bitmap,this.skin.addChild(this.ziBm)),this.tex1=t,this.tex2=e,this.ziBm.texture=t,this.ziBm.x=this.skin.width-this.ziBm.width>>1,this.ziBm.y=this.skin.height-this.ziBm.height>>1},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){this.isToggleBtn&&(this._selected=t,this.diBm.texture=t?this.d2:this.d1,this.tex2&&(this.ziBm.texture=t?this.tex2:this.tex1))},enumerable:!0,configurable:!0}),t}();__reflect(TButton.prototype,"TButton");var TickTool=function(){function t(t,e){void 0===e&&(e=1),this.label=t,this.type=e,this.record=-1}return t.prototype.setOverTime=function(t){this.overTime=GlobalDefine.serverInfo.serverTime+t},t.prototype.startTick=function(){this.runing||(this.record=egret.setInterval(this.tick,this,1e3),this.runing=!0,this.tick())},t.prototype.tick=function(){var t=Math.ceil(this.overTime-GlobalDefine.serverInfo.serverTime);1==this.type&&(this.label.text=TimeUtil.getCountDownTime(t)),0>t&&(this.stopTick(),null!=this.backFun&&(this.label.text="",this.backFun.call(this.funThis)))},t.prototype.stopTick=function(){this.runing&&(egret.clearInterval(this.record),this.runing=!1)},t}();__reflect(TickTool.prototype,"TickTool");var TimeUtil=function(){function t(){}return t.getCountDownTime=function(t){t=Math.floor(t/1e3);var e=Math.floor(t/this.dayTime),i=t%this.dayTime,n=Math.floor(i/3600),o=t%3600,r=Math.floor(o/60),a=o%60,s="";return e>0&&(s+=10>e?"0"+e:e,s+=this.Day),n>0&&(s+=10>n?"0"+n:n,s+=this.Hour),r>0&&(s+=10>r?"0"+r:r,s+=this.Minute),a>0&&(s+=10>a?"0"+a:a,s+=this.Second),s},t}();TimeUtil.Day="天",TimeUtil.Hour="时",TimeUtil.Minute="分",TimeUtil.Second="秒",TimeUtil.dayTime=86400,__reflect(TimeUtil.prototype,"TimeUtil");var Tnotice=function(){function t(){this.timer=new egret.Timer(100,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.startCheck,this)}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.popUpTip=function(t){var e=new QueenVO(t);this.last?(this.last.next=e,e.pre=this.last,this.last=e):this.first=this.last=e,this.first&&this.timer.start()},t.prototype.startCheck=function(t){var e=this.first;ToastManager.instance.showTips(e.tips),this.first=e.next,e.next&&(e.next=null),e.pre&&(e.pre=null),this.first||(this.first=this.last=null,this.timer.stop())},t.prototype.showMsg=function(t){TFacade.toggleUI(CommonSureUI.NAME,1).execute("msg",t)},t.prototype.showSureMsg=function(t,e,i){TFacade.toggleUI(CommonSureUI.NAME,1).execute("buy",[t,e,i])},t.prototype.showSureNoCancelMsg=function(t,e,i){TFacade.toggleUI(CommonSureUI.NAME,1).execute("noCancel",[t,e,i])},t.prototype.playGonggao=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=null),this.hideGonggao(),LayerManage.instance.playGonggao(t,e,i)},t.prototype.hideGonggao=function(){LayerManage.instance.hideGonggao()},t}();__reflect(Tnotice.prototype,"Tnotice");var Toast=function(t){function e(i){var n=t.call(this)||this;n.aimY=0,console.log("Toast:",i);var o=GlobalDefine.stageW,r=GlobalDefine.stageH,a=new egret.Bitmap(e._txtrToastBg);n.addChild(a);var s=new egret.TextField;return s.multiline=!0,s.size=30,s.bold=!0,s.textColor=16777215,s.stroke=2,s.strokeColor=0,s.text=i,s.fontFamily="微软雅黑",s.textAlign=egret.HorizontalAlign.CENTER,s.width=.84*o,s.x=(e._txtrToastBg.textureWidth-s.width)/2,s.y=6,n.addChild(s),a.height=12+s.height,n.x=.5*o-.5*a.width,n.y=.618*r,n.alpha=1,n}return __extends(e,t),e.init=function(t){this._txtrToastBg=t},e}(egret.DisplayObjectContainer);__reflect(Toast.prototype,"Toast");var ToastManager=function(){function t(){this.tipList=[],this.diY=.618*GlobalDefine.stageH-100,this._cont=LayerManage.instance.tipLayer}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.showTips=function(t){var e=new Toast(t);this._cont.addChild(e),this.tipList.push(e),e.end=!1,egret.Tween.get(e).to({y:e.y-100},400).call(this.arriveDestination,this,[e])},t.prototype.arriveDestination=function(t){var e=this;t.end=!0;for(var i,n=this.diY,o=this.tipList.length-1;o>=0;o--)i=this.tipList[o],i.end&&(i.y=n,n-=i.height);egret.Tween.get(t).to({alpha:0},2200,egret.Ease.quintIn).call(function(){DisplayUtil.removeDisplay(t),e.tipList.shift()})},t}();__reflect(ToastManager.prototype,"ToastManager");var TregisterConfig=function(){function t(){this.doinitConfig()}return t.prototype.doinitConfig=function(){},t}();__reflect(TregisterConfig.prototype,"TregisterConfig");var TregisterDecoder=function(){function t(){var t=TFacade.facade;(new GameDecoder).init(t),(new FrameDecoder).init(t)}return t}();__reflect(TregisterDecoder.prototype,"TregisterDecoder");var TregisterProxy=function(){function t(){this.facade=TFacade.facade,this.reg(MjModel.NAME,MjModel)}return t.prototype.reg=function(t,e){this.facade.registerProxy(t,e)},t}();__reflect(TregisterProxy.prototype,"TregisterProxy");var TRegisterUI=function(){function t(){this.facade=TFacade.facade,this.reg(BasefaceUI.NAME,BasefaceUI),this.reg(DengluUI.NAME,DengluUI),this.reg(MainGameUI.NAME,MainGameUI),this.reg(MainFrameUI.NAME,MainFrameUI),this.reg(EnterRoomUI.NAME,EnterRoomUI),this.reg(OperateUI.NAME,OperateUI),this.reg(SettlementUI.NAME,SettlementUI),this.reg(SettingUI.NAME,SettingUI),this.reg(HelpUI.NAME,HelpUI),this.reg(GonggaoUI.NAME,GonggaoUI),this.reg(CreateRoomUI.NAME,CreateRoomUI),this.reg(ShopUI.NAME,ShopUI),this.reg(EmailUI.NAME,EmailUI),this.reg(CommonSureUI.NAME,CommonSureUI),this.reg(EatUI.NAME,EatUI),this.reg(GameOverUI.NAME,GameOverUI)}return t.prototype.reg=function(t,e){this.facade.registerUI(t,e)},t}();__reflect(TRegisterUI.prototype,"TRegisterUI");var UpdownUtil=function(t){function e(e){var i=t.call(this)||this;return i.img=new eui.Image,i.img.source=SheetManage.getTextureFromCenter(e),i.addChild(i.img),i}return __extends(e,t),e.prototype.toStage=function(t){egret.Tween.removeTweens(this.img),this.img.y=-40,this.img.x=-17,egret.Tween.get(this.img,{loop:!0}).to({y:-25},600).to({y:-40},600)},e.prototype.awayStage=function(t){egret.Tween.removeTweens(this.img)},e}(StageDele);__reflect(UpdownUtil.prototype,"UpdownUtil");var CardVO=function(){function t(){}return t.prototype.decode=function(t){t&&(this.id=t[0],this.style=t[1],this.type=t[2],this.used=t[3])},t}();__reflect(CardVO.prototype,"CardVO");var FinalSettleVO=function(){function t(){}return t.prototype.decode=function(t){this.countList=[];for(var e=0;e<t.length;e++)this.countList.push([e+1,t[e]])},t}();__reflect(FinalSettleVO.prototype,"FinalSettleVO");var GonggaoVO=function(){function t(){}return t.prototype.decode=function(t){this.id=t[0],this.content=t[1],this.interval=t[2],this.beginTime=t[3],this.endTime=t[4]},t}();__reflect(GonggaoVO.prototype,"GonggaoVO");var MjModel=function(t){function e(){var e=t.call(this)||this;return e.leftCard=99,e.signExist=!1,e.playerData={},e}return __extends(e,t),e.prototype.getHeromsg=function(){return this.playerData},e.prototype.checkIsRight=function(t,e){var i=e-t;return 1==i||-3==i},e.prototype.checkIsTop=function(t,e){var i=Math.abs(e-t);return 2==i},e.prototype.checkIsLeft=function(t,e){var i=e-t;return 3==i||-1==i},e.prototype.getIconPByPosition=function(t){return this.checkIsRight(this.mainDir,t)?1:this.checkIsTop(this.mainDir,t)?2:this.checkIsLeft(this.mainDir,t)?3:4},e.prototype.getInitP=function(t){var e=new egret.Point;return this.checkIsRight(this.mainDir,t)&&(e.x=1108,e.y=301),this.checkIsTop(this.mainDir,t)&&(e.x=582,e.y=61),this.checkIsLeft(this.mainDir,t)&&(e.x=156,e.y=286),e},e.prototype.getIconStyle=function(t){return t==this.mainDir?"b":"s"},e.prototype.getOperateTexture=function(t){switch(t){case 1:return SheetManage.getTextureFromOperate("op_peng");case 2:return SheetManage.getTextureFromOperate("op_gang");case 3:return SheetManage.getTextureFromOperate("op_gang");case 4:return SheetManage.getTextureFromOperate("op_gang");case 5:return SheetManage.getTextureFromOperate("op_hu");case 6:return SheetManage.getTextureFromOperate("op_hu");case 7:return SheetManage.getTextureFromOperate("op_pass");case 8:return SheetManage.getTextureFromOperate("op_eat")}return null},e.prototype.sortCardList=function(t){t.sort(this.sortMoreFun(["style","type"],[0,0]))},e.prototype.sortMoreFun=function(t,e){return void 0===e&&(e=null),function(i,n){var o,r=0;e&&(r=e.length);var a;for(var s in t)if(o=parseInt(s),a=parseInt(i[t[s]])-parseInt(n[t[s]]),0!=a)return r>o&&0==e[s]?a:-a;return 0}},e}(Proxy);MjModel.NAME="MjModel",MjModel.LOGIN_SUCC="LOGIN_SUCC",MjModel.PASSWORD_RIGHT="PASSWORD_RIGHT",MjModel.INIT_CARD_SUCC="INIT_CARD_SUCC",MjModel.ENTER_ROOM_SUCC="ENTER_ROOM_SUCC",MjModel.SOMEONE_PLAY_CARD="SOMEONE_PLAY_CARD",MjModel.SOMEONE_GET_CARD="SOMEONE_GET_CARD",MjModel.SING_OPERATE_SUCC="SING_OPERATE_SUCC",MjModel.SING_APPEAR="SING_APPEAR",MjModel.JIESAN_ROOM_SUCC="JIESAN_ROOM_SUCC",MjModel.EXIT_ROOM_SUCC="EXIT_ROOM_SUCC",MjModel.SOMEONE_READY_GAME="SOMEONE_READ_GAME",MjModel.GAME_START_AGAIN="GAME_START_AGAIN",MjModel.GET_GONGGAO_LIST="GET_GONGGAO_LIST",__reflect(MjModel.prototype,"MjModel");var ItemVO=function(){function t(){this.guid=0,this.id=0,this.name="",this.level=0,this.job=0,this.count=0,this.gender=0,this.tips="",this.script="",this.packages="",this.type=0,this.open_ui="",this.param1=0,this.quality=0,this.stack=0,this.looks=0,this.avatar=0,this.combat=0,this.baseCombat=0,this.slot=0,this.batch_use=0}return t.prototype.decodeRunData=function(t){var e=0;this.guid=t[e++],this.id=t[e++],this.count=t[e++],this.quality=t[e++],this.strongMsg=t[e++],this.jinjieMsg=t[e++],this.upStarMsg=t[e++],this.combat=t[e++],this.baseCombat=t[e++],this.slot=t[e++]},t}();__reflect(ItemVO.prototype,"ItemVO");var MailContentVO=function(){function t(){}return t.prototype.decode=function(t){this.title=t[0],this.senderId=t[1],this.senderName=t[2],this.content=t[3],this.addTime=t[4],this.diamond=t[5]},t}();__reflect(MailContentVO.prototype,"MailContentVO");var MailVO=function(){function t(){}return t.prototype.decode=function(t){this.id=t[0],this.senderId=t[1],this.senderName=t[2],this.state=t[3]},t}();__reflect(MailVO.prototype,"MailVO");var QueenVO=function(){function t(t){void 0===t&&(t=null),this.tips=t}return t}();__reflect(QueenVO.prototype,"QueenVO");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),new TregisterProxy,new TRegisterUI,new TregisterDecoder,LayerManage.instance.initLayer(this),GlobalDefine.stage=this.stage,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.testClickObject,this)},e.prototype.testClickObject=function(t){},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),LoaderManage.instance.startLoaderGroup("login",this.onResourceLoadComplete,this)},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){LoaderManage.instance.removeLoading(),"login"==t.groupName&&(LoaderManage.instance.loadUI.chageSkin(RES.getRes("loading2_png")),Toast.init(RES.getRes("toast-bg_png")),this.isResourceLoadEnd=!0,this.analyseConfig(),this.createScene(),LoaderManage.instance.removeListener(this.onResourceLoadComplete,this))},e.prototype.analyseConfig=function(){CodeDB.instance.decode(RES.getRes("code_json"))},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){GlobalDefine.socket=new TSocket,TFacade.toggleUI(DengluUI.NAME,1)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(eui.UILayer);__reflect(Main.prototype,"Main");var ServerVO=function(){function t(){}return t}();__reflect(ServerVO.prototype,"ServerVO");var SettleVO=function(){function t(){}return t.prototype.decode=function(t){this.roleId=t[0],this.curScore=t[1];var e;this.cardList=[];for(var i in t[2])e=new CardVO,e.decode(t[2][i]),this.cardList.push(e)},t}();__reflect(SettleVO.prototype,"SettleVO");var VersionVO=function(){function t(){}return t}();__reflect(VersionVO.prototype,"VersionVO");